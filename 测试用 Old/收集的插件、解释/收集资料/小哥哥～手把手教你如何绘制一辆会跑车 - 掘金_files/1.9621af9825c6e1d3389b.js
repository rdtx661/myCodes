webpackJsonp([1],{1e3:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1001),s=i.n(n),o=i(1006),a=i.n(o);e.default={props:["entry","direct","index"],data:function(){return{}},components:{EventsItem:s.a,ArticleItem:a.a},computed:{componentName:function(){return this.entry.isEvent?"EventsItem":"ArticleItem"}},methods:{onEntryDeleted:function(t){this.$emit("delete",t)}}}},1001:function(t,e,i){function n(t){i(1002)}var s=i(8)(i(1003),i(1004),n,"data-v-2065a791",null);t.exports=s.exports},1002:function(t,e){},1003:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(25),s=i.n(n),o=i(95),a=i.n(o),r=i(58),c=i(10),l=i(223),u=(i(972),i(222)),d=i.n(u),m=i(970),h=i.n(m),f=i(971),p=i.n(f);e.default={components:{Avatar:d.a,Thumb:h.a,UserPopover:p.a},props:["entry","direct","index"],data:function(){return{likeLock:Object(l.a)(),wechatDataUrl:"",actionItem:{more:{active:!1}}}},computed:a()({},Object(r.mapGetters)({user:c.USER}),{route:function(){return this.entry?"post"===this.entry.type?this.$router.resolve(this.$columnRoute(this.entry)).href:this.entry.originalUrl:{}},toEventCategory:function(){return"/events/"+(this.eventInfo.cityAlias||"")},eventInfo:function(){return this.entry.eventInfo||{}},isPost:function(){return"post"===this.entry.type},isVote:function(){return"vote"===this.entry.type},isMine:function(){var t=this.entry.user;return t&&this.user&&t.id===this.user.id},isAdmin:function(){return this.user&&"admin"===this.user.role},recommended:function(){return!!this.entry.hot},hot:function(){return this.entry.hotIndex>=3e3},external:function(){return!(this.isPost||this.isVote)},tagList:function(){var t=3-(this.isPost||this.original)-this.isVote-this.hot;return(this.entry.tags||[]).slice(0,t).filter(function(t){return"564c2c7e00b0d1db339370a4"!==t.id})},isActionListActive:function(){return this.actionItem.more.active},stState:function(){var t=this.index+1;return t?this.entry.id+"|"+t:this.entry.id}}),methods:{toggleActivateActionItem:function(t){var e=this;s()(this.actionItem).forEach(function(i){e.actionItem[i].active=t===i&&!e.actionItem[i].active})},toggleLike:function(){var t=this;this.likeLock.do(function(){return t.$ensureAuthorized().then(function(){return t.$store.dispatch(c.TOGGLE_LIKE_ENTRY,t.entry)}).catch(function(){})})},gotoEditView:function(){if(this.isPost){var t=this.$getBean("editorBusiness");window.location.href=t.getColumnEntryEditUrl(this.entry)}else window.location.href="/edit-entry/"+this.entry.id},gotoEntryView:function(){"post"===this.entry.type?window.open("/entry/"+this.entry.id+"/view","_blank"):window.open("/entry/"+this.entry.id,"_blank")},toggleHot:function(){this.$store.dispatch(c.TOGGLE_HOT_ENTRY,this.entry)},deleteEntry:function(){var t=this;if(window.confirm("删除文章后不可恢复，确定删除吗？")){var e=this.entry.id;this.$store.dispatch(c.DELETE_ENTRY,e).then(function(){t.$alert("删除成功"),t.$emit("deleted",e)}).catch(function(e){t.$error(e)})}},recordEventClick:function(){this.$getBean("behaviorBusiness").recordClickEventAction(this.entry.id)}},mounted:function(){var t=this,e=this.$getBean("eventBus");this.entry.createdAt=this.entry.createdAt,e.onVmLife(this,e.eventType.ROOT_CONTAINER_CLICK,function(){s()(t.actionItem).forEach(function(e){t.actionItem[e].active=!1})})}}},1004:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"entry",attrs:{"st:block":"entry","st:state":t.stState}},[n("a",{directives:[{name:"link",rawName:"v-link.external.blank",value:t.route,expression:"route",modifiers:{external:!0,blank:!0}}],staticClass:"entry-link",attrs:{"st:name":"link"},on:{click:t.recordEventClick}},[n("div",{staticClass:"content-box"},[n("div",{staticClass:"info-box"},[n("div",{staticClass:"info-row meta-row"},[n("ul",{staticClass:"meta-list"},[t.recommended?n("li",{staticClass:"item recommended"},[t._v("荐")]):t._e(),t.hot&&!t.recommended?n("li",{staticClass:"item hot"},[t._v("热")]):t._e(),n("a",{directives:[{name:"link",rawName:"v-link.external.blank",value:t.toEventCategory,expression:"toEventCategory",modifiers:{external:!0,blank:!0}}],staticClass:"item events"},[t._v(t._s(t.eventInfo.city)+"活动")]),n("li",{staticClass:"item username clickable"},[n("user-popover",{attrs:{userId:t.entry.user.id}},[n("app-link",{attrs:{to:t.$userRoute(t.entry.user),blank:!0,"st:name":"user","st:state":t.entry.user.id}},[t._v(t._s(t.entry.user.username))])],1)],1),t.tagList.length?n("li",{staticClass:"item tag"},t._l(t.tagList,function(e,i){return n("app-link",{key:i,staticClass:"tag",attrs:{to:t.$tagRoute(e.title),blank:!0,"st:name":"tag","st:state":e.id}},[t._v(t._s(e.title))])})):t._e()])]),n("div",{staticClass:"info-row title-row"},[n("a",{directives:[{name:"link",rawName:"v-link.external.blank",value:t.route,expression:"route",modifiers:{external:!0,blank:!0}}],staticClass:"title",attrs:{"st:name":"title"}},[t._v(t._s(t.entry.title))])]),n("div",{staticClass:"info-row action-row"},[n("ul",{staticClass:"action-list",class:{active:t.isActionListActive}},[n("li",{staticClass:"item join-btn"},[t._v("立即报名")]),t.isMine||t.isAdmin?n("li",{staticClass:"item more clickable hover",class:{active:t.actionItem.more.active},attrs:{"st:name":"moreBtn"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.toggleActivateActionItem("more")}}},[n("img",{staticClass:"icon",attrs:{src:i(1005)}}),n("ul",{staticClass:"more-list",attrs:{"st:silent":"st:silent"}},[t.isPost?n("li",{staticClass:"item",on:{click:t.gotoEditView}},[t._v("编辑")]):t._e(),t.isAdmin?n("li",{staticClass:"item",on:{click:t.toggleHot}},[t._v(t._s(t.recommended?"取消推荐":"标记为推荐"))]):t._e(),n("li",{staticClass:"item",on:{click:t.deleteEntry}},[t._v("删除")])])]):t._e()])])]),t.entry.screenshot?n("thumb",{staticClass:"thumb",attrs:{url:t.entry.screenshot,width:120,height:120}}):t._e()],1)])])},staticRenderFns:[]}},1005:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+NTdERjlDRTMtRjVENi00RDZELTgyQzktM0NCOTREQTU0RjQ3PC90aXRsZT48cGF0aCBkPSJNNS41IDExYTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzem01IDBhMS41IDEuNSAwIDEgMCAwLTMgMS41IDEuNSAwIDAgMCAwIDN6bTUgMGExLjUgMS41IDAgMSAwIDAtMyAxLjUgMS41IDAgMCAwIDAgM3oiIGZpbGw9IiNCMkJBQzIiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="},1006:function(t,e,i){function n(t){i(1007)}var s=i(8)(i(1008),i(1009),n,"data-v-6b46a625",null);t.exports=s.exports},1007:function(t,e){},1008:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(25),s=i.n(n),o=i(95),a=i.n(o),r=i(58),c=i(10),l=i(19),u=i(45),d=i(223),m=i(972),h=i(222),f=i.n(h),p=i(970),v=i.n(p),g=i(971),C=i.n(g),M=i(984),y=i.n(M);e.default={components:{Avatar:f.a,Thumb:v.a,UserPopover:C.a,CollectPopup:y.a},props:["entry","direct","index"],data:function(){return{isCollectPopupVisible:!1,likeLock:Object(d.a)(),wechatDataUrl:"",actionItem:{share:{active:!1},collect:{active:!1},more:{active:!1}}}},computed:a()({},Object(r.mapGetters)({user:c.USER}),{route:function(){return this.direct?this.$entryPublicRoute(this.entry):this.$entryDetailRoute(this.entry)},commentRoute:function(){return this.$entryDetailRoute(this.entry,"#comment")},isPost:function(){return"post"===this.entry.type},isVote:function(){return"vote"===this.entry.type},isMine:function(){var t=this.entry.user;return t&&this.user&&t.id===this.user.id},isAdmin:function(){return this.user&&"admin"===this.user.role},previewable:function(){return!1},original:function(){return!!this.entry.original},recommended:function(){return!!this.entry.hot},hot:function(){return this.entry.hotIndex>=3e3},external:function(){return!(this.isPost||this.isVote)},unparsed:function(){return!1},date:function(){return Object(l.d)(this.entry.createdAt)},liked:function(){return!!this.entry.liked},tagList:function(){var t=3-(this.isPost||this.original)-this.isVote-this.hot;return(this.entry.tags||[]).slice(0,t)},isActionListActive:function(){return this.actionItem.share.active||this.actionItem.collect.active||this.actionItem.more.active},stState:function(){var t=this.index+1;return t?this.entry.id+"|"+t:this.entry.id}}),methods:{toggleActivateActionItem:function(t){var e=this;s()(this.actionItem).forEach(function(i){e.actionItem[i].active=t===i&&!e.actionItem[i].active})},toggleLike:function(){var t=this;this.likeLock.do(function(){return t.$ensureAuthorized().then(function(){return t.$store.dispatch(c.TOGGLE_LIKE_ENTRY,t.entry)}).catch(function(){})})},collect:function(){var t=this;this.$ensureAuthorized().then(function(){return t.toggleActivateActionItem("collect")}).catch(function(){})},gotoEditView:function(){if(this.isPost){var t=this.$getBean("editorBusiness"),e=t.getColumnEntryEditUrl(this.entry);window.open(e,"_blank")}else window.open("/edit-entry/"+this.entry.id,"_blank")},gotoEntryView:function(){"post"===this.entry.type?window.open("/entry/"+this.entry.id+"/view","_blank"):window.open("/entry/"+this.entry.id,"_blank")},toggleHot:function(){this.$store.dispatch(c.TOGGLE_HOT_ENTRY,this.entry)},deleteEntry:function(){var t=this;if(window.confirm("删除文章后不可恢复，确定删除吗？")){var e=this.entry.id;this.$store.dispatch(c.DELETE_ENTRY,e).then(function(){t.$alert("删除成功"),t.$emit("deleted",e)}).catch(function(e){t.$error(e)})}},gotoParserView:function(){var t="http://parser.juejin.im/editor?entryId="+this.entry.id;window.open(t,"_blank")},shareToWeibo:function(){this.$getBean("shareBusiness").shareEntryToWeibo(this.entry)},recordEntryView:function(){this.$getBean("behaviorBusiness").recordViewEntryAction(this.entry.id)},recordEntryClick:function(){this.$getBean("behaviorBusiness").recordClickEntryAction(this.entry.id)},getWechatDataUrl:function(){if(!this.wechatDataUrl){var t=this.entry.id,e=null;if(this.isVote)e=Object(u.b)("article-parse",{id:t+"/detail",type:"entry",source:"article_list",campaign:"share_vote"}),this.wechatDataUrl=Object(m.a)(e);else if(this.isPost){var i=this.entry.originalUrl;t=i.substr(i.indexOf("/post/")+6,24),e=Object(u.b)("article-parse",{id:t,type:"post",source:"article_list",campaign:"share_article"}),this.wechatDataUrl=Object(m.a)(e)}else e=Object(u.b)("article-parse",{id:t,type:"entry",source:"article_list",campaign:"share_article"}),this.wechatDataUrl=Object(m.a)(e)}}},mounted:function(){var t=this,e=this.$getBean("eventBus");this.entry.createdAt=this.entry.createdAt,e.onVmLife(this,e.eventType.ROOT_CONTAINER_CLICK,function(){s()(t.actionItem).forEach(function(e){t.actionItem[e].active=!1})})}}},1009:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"entry",attrs:{"st:block":"entry","st:state":t.stState}},[n("app-link",{staticClass:"entry-link",attrs:{to:t.route,blank:!0,"st:name":"link"},nativeOn:{click:function(e){t.recordEntryClick(e)}}},[n("div",{staticClass:"content-box"},[n("div",{staticClass:"info-box"},[n("div",{staticClass:"info-row meta-row"},[n("ul",{staticClass:"meta-list"},[t.recommended?n("li",{staticClass:"item recommended"},[t._v("荐")]):t._e(),t.hot&&!t.recommended?n("li",{staticClass:"item hot"},[t._v("热")]):t._e(),t.isPost?n("li",{staticClass:"item post"},[t._v("专栏")]):t._e(),n("li",{staticClass:"item username clickable"},[n("user-popover",{attrs:{userId:t.entry.user.id}},[n("app-link",{attrs:{to:t.$userRoute(t.entry.user),blank:!0,"st:name":"user","st:state":t.entry.user.id}},[t._v(t._s(t.entry.user.username))])],1)],1),n("li",{staticClass:"item"},[t._v(t._s(t.date))]),t.tagList.length?n("li",{staticClass:"item tag"},t._l(t.tagList,function(e,i){return n("app-link",{key:i,staticClass:"tag",attrs:{to:t.$tagRoute(e.title),blank:!0,"st:name":"tag","st:state":e.id}},[t._v(t._s(e.title))])})):t._e(),t.isAdmin&&t.unparsed?n("li",{staticClass:"item unparsed clickable",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.gotoParserView(e)}}},[t._v("未抓取")]):t._e()])]),n("div",{staticClass:"info-row title-row"},[!t.external||t.user||t.unparsed?t._e():n("a",{directives:[{name:"link",rawName:"v-link.blank",value:"/entry/"+t.entry.id,expression:"'/entry/' + entry.id",modifiers:{blank:!0}}],staticClass:"title",attrs:{"st:name":"title"}},[t._v(t._s(t.entry.title))]),t.external&&(t.user||t.unparsed)?n("a",{directives:[{name:"link",rawName:"v-link.external.blank",value:t.entry.originalUrl,expression:"entry.originalUrl",modifiers:{external:!0,blank:!0}}],staticClass:"title",attrs:{"st:name":"title"},on:{click:t.recordEntryView}},[t._v(t._s(t.entry.title))]):t._e(),t.external?t._e():n("app-link",{staticClass:"title",attrs:{to:t.route,blank:!0,"st:name":"title"}},[t._v(t._s(t.entry.title))])],1),n("div",{staticClass:"info-row action-row"},[n("ul",{staticClass:"action-list",class:{active:t.isActionListActive}},[n("li",{staticClass:"item like clickable",class:{liked:t.liked},attrs:{"st:name":"likeBtn"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.toggleLike(e)}}},[n("a",{staticClass:"title-box"},[t.liked?n("img",{staticClass:"icon",attrs:{src:i(993)}}):n("img",{staticClass:"icon",attrs:{src:i(227)}}),t.entry.collectionCount?n("span",{staticClass:"count",class:{active:t.liked}},[t._v(t._s(t.entry.collectionCount))]):t._e()])]),n("li",{staticClass:"item comment clickable",attrs:{"st:name":"commentBtn"}},[n("app-link",{staticClass:"title-box",attrs:{to:t.commentRoute,blank:!0}},[n("img",{staticClass:"icon",attrs:{src:i(1010)}}),t.entry.commentsCount?n("span",{staticClass:"count"},[t._v(t._s(t.entry.commentsCount))]):t._e()])],1),n("li",{staticClass:"item share clickable hover",class:{active:t.actionItem.share.active},attrs:{"st:name":"shareBtn",title:"分享"},on:{mouseenter:t.getWechatDataUrl,click:function(e){e.stopPropagation(),e.preventDefault(),t.toggleActivateActionItem("share")}}},[n("img",{staticClass:"icon",attrs:{src:i(1011)}}),n("div",{staticClass:"share-panel"},[n("div",{staticClass:"share-item weibo",attrs:{"st:name":"shareItem","st:state":"weibo"},on:{click:t.shareToWeibo}},[n("img",{staticClass:"icon",attrs:{src:i(1012)}}),t._v("微博")]),n("div",{staticClass:"share-item wechat",attrs:{"st:name":"shareItem","st:state":"wechat"}},[n("img",{staticClass:"icon",attrs:{src:i(1013)}}),t._v("微信扫一扫"),n("div",{staticClass:"qr-code-box"},[n("img",{staticClass:"qr-code",attrs:{src:t.wechatDataUrl}})])])])]),t.entry.collectStateError?t._e():n("li",{staticClass:"item collect clickable hover",class:{active:t.actionItem.collect.active},attrs:{title:"收藏","st:name":"collectBtn"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.collect(e)}}},[t.entry.collected?n("img",{staticClass:"icon",attrs:{src:i(1014)}}):n("img",{staticClass:"icon",attrs:{src:i(1015)}}),t.actionItem.collect.active?n("collect-popup",{attrs:{entry:t.entry,"st:silent":"st:silent"},on:{close:function(e){t.actionItem.collect.active=!1}}}):t._e()],1),t.isMine||t.isAdmin?n("li",{staticClass:"item more clickable hover",class:{active:t.actionItem.more.active},attrs:{"st:name":"moreBtn"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.toggleActivateActionItem("more")}}},[n("img",{staticClass:"icon",attrs:{src:i(1016)}}),n("ul",{staticClass:"more-list",attrs:{"st:silent":"st:silent"}},[n("li",{staticClass:"item",on:{click:t.gotoEditView}},[t._v("编辑")]),t.isAdmin?n("li",{staticClass:"item",on:{click:t.toggleHot}},[t._v(t._s(t.recommended?"取消推荐":"标记为推荐"))]):t._e(),t.external&&t.isAdmin?n("li",{staticClass:"item",on:{click:t.gotoParserView}},[t._v("抓取文章")]):t._e(),t.previewable&&t.isAdmin?n("li",{staticClass:"item",on:{click:t.gotoEntryView}},[t._v("预览")]):t._e(),n("li",{staticClass:"item",on:{click:t.deleteEntry}},[t._v("删除")])])]):t._e()])])]),t.entry.screenshot?n("thumb",{staticClass:"thumb",attrs:{url:t.entry.screenshot,width:120,height:120}}):t._e()],1)])],1)},staticRenderFns:[]}},1010:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PHRpdGxlPjc1MzFEREU0LTZCMzgtNDI4Ny04QTJBLUY2ODVGMDgzNUFGQzwvdGl0bGU+PGRlZnM+PHJlY3QgaWQ9ImEiIHg9IjU5IiB5PSI1NCIgd2lkdGg9IjU0IiBoZWlnaHQ9IjI1IiByeD0iMSIvPjxtYXNrIGlkPSJiIiB4PSIwIiB5PSIwIiB3aWR0aD0iNTQiIGhlaWdodD0iMjUiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PC9kZWZzPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02OCAtNTYpIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9IiNCMkJBQzIiIGQ9Ik03MiA2MXY4LjAzOGg0LjQ0NEw4MS4xMTEgNzJ2LTIuOTYySDg0VjYxeiIvPjx1c2Ugc3Ryb2tlPSIjRURFRUVGIiBtYXNrPSJ1cmwoI2IpIiBzdHJva2Utd2lkdGg9IjIiIHhsaW5rOmhyZWY9IiNhIi8+PC9nPjwvc3ZnPg=="},1011:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+QjFBMjZEODAtQ0ZCRC00REIyLThCQTAtODc0MEVBMTE2RTExPC90aXRsZT48ZyBzdHJva2U9IiNBQUIwQkEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTEwLjUyNCAzLjQxM3Y4LjIzNSIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjxwYXRoIGQ9Ik0xMy4wMjcgNy41MDhjLjgxMyAwIDEuNjc4LS4wMSAxLjY3OC0uMDEuNDQ5IDAgLjgxMi4zNzYuODEyLjgyNmwtLjAwNSA2LjM2YS44MTkuODE5IDAgMCAxLS44MTEuODI2SDYuMzFhLjgyMi44MjIgMCAwIDEtLjgxMS0uODI2bC4wMDUtNi4zNmMwLS40NTYuMzYtLjgyNS44MTItLjgyNWwxLjY4OS4wMDZNOC4zNzMgNS4xMTFsMi4xNDMtMi4wOSAyLjE0MyAyLjA3Ii8+PC9nPjwvc3ZnPg=="},1012:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+MTYzQzFFRDAtNDA0My00REMyLUEwRTQtNEQ1NDI2MjFFNkIzPC90aXRsZT48ZyBmaWxsPSIjRDUyQjJBIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xNy4yNzUgMTEuMTgzYy0uMjY3LS4wNzctLjQ1LS4xMy0uMzEtLjQ3LjMwMy0uNzM3LjMzNC0xLjM3My4wMDUtMS44MjctLjYxNS0uODUxLTIuMy0uODA1LTQuMjMyLS4wMjMgMCAwLS42MDYuMjU3LS40NTEtLjIwOC4yOTctLjkyNC4yNTItMS42OTktLjIxLTIuMTQ1LTEuMDQ4LTEuMDE1LTMuODM0LjAzOC02LjIyNCAyLjM1LTEuNzkgMS43My0yLjgyOCAzLjU2Ni0yLjgyOCA1LjE1MiAwIDMuMDM2IDQuMDIyIDQuODggNy45NTggNC44OCA1LjE2IDAgOC41OTEtMi45IDguNTkxLTUuMjAyIDAtMS4zOTEtMS4yMS0yLjE4LTIuMjk5LTIuNTA3em0tNi4yODEgNi42MjJjLTMuMTQuMy01Ljg1Mi0xLjA3NC02LjA1Ni0zLjA2OS0uMjA0LTEuOTk0IDIuMTc4LTMuODU0IDUuMzE4LTQuMTU1IDMuMTQtLjMgNS44NTEgMS4wNzMgNi4wNTUgMy4wNjcuMjA0IDEuOTk2LTIuMTc3IDMuODU2LTUuMzE3IDQuMTU3ek0yMC43MDEgNS42MjljLTEuMjQ2LTEuMzM3LTMuMDg0LTEuODQ2LTQuNzgtMS40OTdhLjcwMy43MDMgMCAwIDAtLjU2LjgzNGMuMDg0LjM4LjQ3LjYyMi44NjMuNTQgMS4yMDctLjI0NyAyLjUxMy4xMTUgMy4zOTggMS4wNjVhMy4zNyAzLjM3IDAgMCAxIC43NDcgMy4zNzkuNjk4LjY5OCAwIDAgMCAuNDY4Ljg4NWMuMzgxLjEyLjc5LS4wODMuOTE0LS40NTJ2LS4wMDJhNC43MzkgNC43MzkgMCAwIDAtMS4wNS00Ljc1MiIvPjxwYXRoIGQ9Ik0xOC43ODggNy4zYTIuNDk1IDIuNDk1IDAgMCAwLTIuMzI5LS43MjkuNjA1LjYwNSAwIDAgMC0uNDguNzE5LjYyNC42MjQgMCAwIDAgLjc0MS40NjRjLjQwNC0uMDgyLjg0Mi4wMzggMS4xMzkuMzU2LjI5Ny4zMTguMzc2Ljc1Mi4yNDkgMS4xMzJhLjYwMi42MDIgMCAwIDAgLjQwMy43NjIuNjMuNjMgMCAwIDAgLjc4Ny0uMzkgMi4zMDYgMi4zMDYgMCAwIDAtLjUxLTIuMzE1TTExLjMwNyAxMi4xMTdjLTEuNDk0LS4zNzctMy4xODMuMzQ0LTMuODMyIDEuNjE4LS42NjEgMS4zLS4wMjIgMi43NDIgMS40ODggMy4yMTMgMS41NjQuNDg4IDMuNDA3LS4yNiA0LjA0OC0xLjY2Mi42MzItMS4zNzEtLjE1Ny0yLjc4My0xLjcwNC0zLjE3em0tMS4xNCAzLjMxOGMtLjMwNC40NjktLjk1NS42NzQtMS40NDUuNDU4LS40ODMtLjIxMy0uNjI1LS43NTgtLjMyMS0xLjIxNS4zLS40NTUuOTI4LS42NTggMS40MTUtLjQ2LjQ5Mi4yMDIuNjQ5Ljc0My4zNSAxLjIxN3ptMS0xLjI0M2EuNDYxLjQ2MSAwIDAgMS0uNTQzLjE5M2MtLjE4Ny0uMDc0LS4yNDYtLjI3Ny0uMTQtLjQ1NmEuNDU1LjQ1NSAwIDAgMSAuNTMtLjE5MmMuMTkuMDY3LjI1OC4yNzIuMTUzLjQ1NXoiLz48L2c+PC9zdmc+"},1013:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+MkRDRERCOTktQkY5QS00RkFFLTk4RjgtNzdCNDFERkIyNkY1PC90aXRsZT48cGF0aCBkPSJNOS4wNzQgM0M1LjIxIDIuOTQzIDIgNS44MzkgMiA5LjI1NWMwIDEuOTcyLjkxIDMuNjgzIDIuNjY5IDQuOTM5IDAgMC0uNjQ1IDIuMTcxLS42MzYgMi4yMTUuMDEuMDQzLjE1LjEyOS4xOTguMS4wNS0uMDI3IDIuMzMyLTEuNDE2IDIuMzMyLTEuNDE2IDEuNzQ5LjYxMyAyLjc2OS40MDkgMi44MjcuNDA1YTQuNjE0IDQuNjE0IDAgMCAxLS4xNTktMi4wOTljLjY4Mi00LjAwNSA0LjcwMi01LjI1MSA2LjkwNS01LjAzOS0uNjA4LTIuODkyLTMuMjUtNS4zLTcuMDYyLTUuMzU4em02LjcyNSA1Ljg0Yy0zLjQwNyAwLTYuMTI1IDIuMjkyLTYuMTI1IDUuMjE4IDAgMi45MzIgMi41ODUgNS4zNTkgNi4xMyA1LjM3OS43MTMuMDA0IDEuNzc1LS4xODMgMi40OTEtLjQ4OSAwIDAgMS43MTMgMS4wNiAxLjgxIDEuMDUyYS4xNi4xNiAwIDAgMCAuMTQ4LS4xNTJjLjAwNC0uMDY2LS41NDYtMS43Mi0uNTQ2LTEuNzIgMS40Ny0xLjE3NSAyLjA4NS0yLjQ3IDIuMDg1LTQuMTIgMC0yLjkyNy0yLjc3NS01LjE2OS01Ljk5My01LjE2OXpNNi4zOSA2LjI4OGEuOTI3LjkyNyAwIDAgMC0uOTE4LjkzNmMwIC41MTcuNDEuOTM2LjkxOC45MzYuNTA2IDAgLjkxNy0uNDE5LjkxNy0uOTM2YS45MjcuOTI3IDAgMCAwLS45MTctLjkzNnptNS41NTUgMGEuOTI3LjkyNyAwIDAgMC0uOTE4LjkzNmMwIC41MTcuNDExLjkzNi45MTguOTM2LjUwNyAwIC45MTgtLjQxOS45MTgtLjkzNmEuOTI3LjkyNyAwIDAgMC0uOTE4LS45MzZ6bTEuNjEyIDQuOTc5YS44MjEuODIxIDAgMCAwLS44MTEuODNjMCAuNDU4LjM2My44My44MTEuODNhLjgyMS44MjEgMCAwIDAgLjgxMi0uODMuODIxLjgyMSAwIDAgMC0uODEyLS44M3ptNC4zNDIgMGEuODIxLjgyMSAwIDAgMC0uODEyLjgzYzAgLjQ1OC4zNjMuODMuODEyLjgzYS44MjEuODIxIDAgMCAwIC44MTItLjgzLjgyMS44MjEgMCAwIDAtLjgxMi0uODN6IiBmaWxsPSIjMDBDODBDIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4="},1014:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgxNnYxNkgweiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiNGRkMzNDciIGQ9Ik04LjEzNiAxMi40NDZjLS4zNTItLjE5NS0uOTIyLS4xOTUtMS4yNzQgMGwtMi41MzcgMS4zOTdjLS43MDQuMzg2LTEuMTY0LjAzMy0xLjAzLS43ODZMMy43OCAxMC4xYy4wNjctLjQxLS4xMDktLjk3OC0uMzk1LTEuMjdMMS4zMzQgNi43MzZjLS41Ny0uNTgyLS4zOTEtMS4xNS4zOTQtMS4yN2wyLjgzNS0uNDNjLjM5My0uMDYxLjg1NS0uNDEyIDEuMDMtLjc4NmwxLjI2OC0yLjY5MWMuMzUzLS43NDYuOTI0LS43NDQgMS4yNzUgMGwxLjI3IDIuNjkxYy4xNzUuMzc0LjYzNy43MjYgMS4wMzEuNzg1bDIuODM2LjQzMmMuNzg2LjExOS45NjIuNjkuMzkzIDEuMjdMMTEuNjE0IDguODNjLS4yODUuMjkyLS40NjIuODYtLjM5NSAxLjI3bC40ODUgMi45NTdjLjEzNS44MjItLjMyOSAxLjE3Mi0xLjAzLjc4NmwtMi41MzgtMS4zOTd6Ii8+CiAgICA8L2c+Cjwvc3ZnPgo="},1015:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgxNnYxNkgweiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiNCMkJBQzIiIGQ9Ik04LjEzNiAxMi40NDZjLS4zNTItLjE5NS0uOTIyLS4xOTUtMS4yNzQgMGwtMi41MzcgMS4zOTdjLS43MDQuMzg2LTEuMTY0LjAzMy0xLjAzLS43ODZMMy43OCAxMC4xYy4wNjctLjQxLS4xMDktLjk3OC0uMzk1LTEuMjdMMS4zMzQgNi43MzZjLS41Ny0uNTgyLS4zOTEtMS4xNS4zOTQtMS4yN2wyLjgzNS0uNDNjLjM5My0uMDYxLjg1NS0uNDEyIDEuMDMtLjc4NmwxLjI2OC0yLjY5MWMuMzUzLS43NDYuOTI0LS43NDQgMS4yNzUgMGwxLjI3IDIuNjkxYy4xNzUuMzc0LjYzNy43MjYgMS4wMzEuNzg1bDIuODM2LjQzMmMuNzg2LjExOS45NjIuNjkuMzkzIDEuMjdMMTEuNjE0IDguODNjLS4yODUuMjkyLS40NjIuODYtLjM5NSAxLjI3bC40ODUgMi45NTdjLjEzNS44MjItLjMyOSAxLjE3Mi0xLjAzLjc4NmwtMi41MzgtMS4zOTd6Ii8+CiAgICA8L2c+Cjwvc3ZnPgo="},1016:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+NTdERjlDRTMtRjVENi00RDZELTgyQzktM0NCOTREQTU0RjQ3PC90aXRsZT48cGF0aCBkPSJNNS41IDExYTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzem01IDBhMS41IDEuNSAwIDEgMCAwLTMgMS41IDEuNSAwIDAgMCAwIDN6bTUgMGExLjUgMS41IDAgMSAwIDAtMyAxLjUgMS41IDAgMCAwIDAgM3oiIGZpbGw9IiNCMkJBQzIiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="},1017:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"entry-box"},[i(t.componentName,{tag:"component",attrs:{entry:t.entry,direct:t.direct,index:t.index},on:{deleted:t.onEntryDeleted}})],1)},staticRenderFns:[]}},1018:function(t,e,i){function n(t){i(1019)}var s=i(8)(i(1020),i(1021),n,"data-v-f0fa4668",null);t.exports=s.exports},1019:function(t,e){},1020:function(t,e,i){"use strict";function n(){return{pointer:null,sort:"newest",list:[],loading:!1,canNext:!0,requestToken:null,wechatDataUrl:"",actionItem:{share:{active:!1}}}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(25),o=i.n(s),a=i(970),r=i.n(a),c=i(972),l=i(973);e.default={props:["info"],data:n,components:{Thumb:r.a},computed:{timelimitInfo:function(){return Object(l.e)(this.info)},hasSale:function(){return Object(l.f)(this.info)},salePrice:function(){var t=this.info.price,e=this.timelimitInfo.sale;return this.hasSale&&(t=Object(l.a)(t,e)),t}},methods:{computeSalePrice:l.a,shareToWeibo:function(){this.$getBean("shareBusiness").shareBookToWeibo(this.info)},toggleActivateActionItem:function(t){var e=this;o()(this.actionItem).forEach(function(i){e.actionItem[i].active=t===i&&!e.actionItem[i].active})},getWechatDataUrl:function(){if(!this.wechatDataUrl){var t=this.info.id;this.wechatDataUrl=Object(c.a)("https://juejin.im/book/"+t)}}},mounted:function(){var t=this,e=this.$getBean("eventBus");e.onVmLife(this,e.eventType.ROOT_CONTAINER_CLICK,function(){o()(t.actionItem).forEach(function(e){t.actionItem[e].active=!1})})}}},1021:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-link",{staticClass:"content-box",attrs:{to:t.$bookInfo(t.info.id)}},[n("div",{staticClass:"info-box"},[n("div",{staticClass:"meta-row"},[n("span",{staticClass:"sign"},[t._v("小册")]),n("span",{staticClass:"username"},[t._v(t._s(t.info.user.username))])]),n("div",{staticClass:"info-row"},[n("app-link",{staticClass:"title",attrs:{to:t.$bookInfo(t.info.id)}},[t._v(t._s(t.info.title))])],1),n("div",{staticClass:"action-row"},[n("div",{staticClass:"action-left"},[n("span",{staticClass:"link-btn buy"},[t._v("购买人数: "+t._s(t.info.buyCount))]),t.hasSale?n("span",{staticClass:"link-btn sale"},[t._v("原价 "+t._s(t.info.price)+" 元 · 限时优惠价 "+t._s(t.salePrice)+" 元")]):n("span",{staticClass:"link-btn sale"},[t._v("特价: "+t._s(t.info.price)+"元")]),n("span",{staticClass:"link-btn share",class:{active:t.actionItem.share.active},on:{mouseenter:t.getWechatDataUrl,click:function(e){e.stopPropagation(),e.preventDefault(),t.toggleActivateActionItem("share")}}},[n("img",{staticClass:"icon",attrs:{src:i(1022)}}),t._v("分享"),n("div",{staticClass:"share-panel"},[n("div",{staticClass:"share-item weibo",attrs:{"st:name":"shareItem","st:state":"weibo"},on:{click:t.shareToWeibo}},[n("img",{staticClass:"icon",attrs:{src:i(1023)}}),t._v("微博")]),n("div",{staticClass:"share-item wechat",attrs:{"st:name":"shareItem","st:state":"wechat"}},[n("img",{staticClass:"icon",attrs:{src:i(1024)}}),t._v("微信扫一扫"),n("div",{staticClass:"qr-code-box"},[n("img",{staticClass:"qr-code",attrs:{src:t.wechatDataUrl}})])])])])])])]),t.info.img?n("thumb",{staticClass:"thumb",attrs:{url:t.info.img,width:120,height:120}}):t._e()],1)},staticRenderFns:[]}},1022:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+QjFBMjZEODAtQ0ZCRC00REIyLThCQTAtODc0MEVBMTE2RTExPC90aXRsZT48ZyBzdHJva2U9IiNBQUIwQkEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTEwLjUyNCAzLjQxM3Y4LjIzNSIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjxwYXRoIGQ9Ik0xMy4wMjcgNy41MDhjLjgxMyAwIDEuNjc4LS4wMSAxLjY3OC0uMDEuNDQ5IDAgLjgxMi4zNzYuODEyLjgyNmwtLjAwNSA2LjM2YS44MTkuODE5IDAgMCAxLS44MTEuODI2SDYuMzFhLjgyMi44MjIgMCAwIDEtLjgxMS0uODI2bC4wMDUtNi4zNmMwLS40NTYuMzYtLjgyNS44MTItLjgyNWwxLjY4OS4wMDZNOC4zNzMgNS4xMTFsMi4xNDMtMi4wOSAyLjE0MyAyLjA3Ii8+PC9nPjwvc3ZnPg=="},1023:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+MTYzQzFFRDAtNDA0My00REMyLUEwRTQtNEQ1NDI2MjFFNkIzPC90aXRsZT48ZyBmaWxsPSIjRDUyQjJBIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xNy4yNzUgMTEuMTgzYy0uMjY3LS4wNzctLjQ1LS4xMy0uMzEtLjQ3LjMwMy0uNzM3LjMzNC0xLjM3My4wMDUtMS44MjctLjYxNS0uODUxLTIuMy0uODA1LTQuMjMyLS4wMjMgMCAwLS42MDYuMjU3LS40NTEtLjIwOC4yOTctLjkyNC4yNTItMS42OTktLjIxLTIuMTQ1LTEuMDQ4LTEuMDE1LTMuODM0LjAzOC02LjIyNCAyLjM1LTEuNzkgMS43My0yLjgyOCAzLjU2Ni0yLjgyOCA1LjE1MiAwIDMuMDM2IDQuMDIyIDQuODggNy45NTggNC44OCA1LjE2IDAgOC41OTEtMi45IDguNTkxLTUuMjAyIDAtMS4zOTEtMS4yMS0yLjE4LTIuMjk5LTIuNTA3em0tNi4yODEgNi42MjJjLTMuMTQuMy01Ljg1Mi0xLjA3NC02LjA1Ni0zLjA2OS0uMjA0LTEuOTk0IDIuMTc4LTMuODU0IDUuMzE4LTQuMTU1IDMuMTQtLjMgNS44NTEgMS4wNzMgNi4wNTUgMy4wNjcuMjA0IDEuOTk2LTIuMTc3IDMuODU2LTUuMzE3IDQuMTU3ek0yMC43MDEgNS42MjljLTEuMjQ2LTEuMzM3LTMuMDg0LTEuODQ2LTQuNzgtMS40OTdhLjcwMy43MDMgMCAwIDAtLjU2LjgzNGMuMDg0LjM4LjQ3LjYyMi44NjMuNTQgMS4yMDctLjI0NyAyLjUxMy4xMTUgMy4zOTggMS4wNjVhMy4zNyAzLjM3IDAgMCAxIC43NDcgMy4zNzkuNjk4LjY5OCAwIDAgMCAuNDY4Ljg4NWMuMzgxLjEyLjc5LS4wODMuOTE0LS40NTJ2LS4wMDJhNC43MzkgNC43MzkgMCAwIDAtMS4wNS00Ljc1MiIvPjxwYXRoIGQ9Ik0xOC43ODggNy4zYTIuNDk1IDIuNDk1IDAgMCAwLTIuMzI5LS43MjkuNjA1LjYwNSAwIDAgMC0uNDguNzE5LjYyNC42MjQgMCAwIDAgLjc0MS40NjRjLjQwNC0uMDgyLjg0Mi4wMzggMS4xMzkuMzU2LjI5Ny4zMTguMzc2Ljc1Mi4yNDkgMS4xMzJhLjYwMi42MDIgMCAwIDAgLjQwMy43NjIuNjMuNjMgMCAwIDAgLjc4Ny0uMzkgMi4zMDYgMi4zMDYgMCAwIDAtLjUxLTIuMzE1TTExLjMwNyAxMi4xMTdjLTEuNDk0LS4zNzctMy4xODMuMzQ0LTMuODMyIDEuNjE4LS42NjEgMS4zLS4wMjIgMi43NDIgMS40ODggMy4yMTMgMS41NjQuNDg4IDMuNDA3LS4yNiA0LjA0OC0xLjY2Mi42MzItMS4zNzEtLjE1Ny0yLjc4My0xLjcwNC0zLjE3em0tMS4xNCAzLjMxOGMtLjMwNC40NjktLjk1NS42NzQtMS40NDUuNDU4LS40ODMtLjIxMy0uNjI1LS43NTgtLjMyMS0xLjIxNS4zLS40NTUuOTI4LS42NTggMS40MTUtLjQ2LjQ5Mi4yMDIuNjQ5Ljc0My4zNSAxLjIxN3ptMS0xLjI0M2EuNDYxLjQ2MSAwIDAgMS0uNTQzLjE5M2MtLjE4Ny0uMDc0LS4yNDYtLjI3Ny0uMTQtLjQ1NmEuNDU1LjQ1NSAwIDAgMSAuNTMtLjE5MmMuMTkuMDY3LjI1OC4yNzIuMTUzLjQ1NXoiLz48L2c+PC9zdmc+"},1024:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+MkRDRERCOTktQkY5QS00RkFFLTk4RjgtNzdCNDFERkIyNkY1PC90aXRsZT48cGF0aCBkPSJNOS4wNzQgM0M1LjIxIDIuOTQzIDIgNS44MzkgMiA5LjI1NWMwIDEuOTcyLjkxIDMuNjgzIDIuNjY5IDQuOTM5IDAgMC0uNjQ1IDIuMTcxLS42MzYgMi4yMTUuMDEuMDQzLjE1LjEyOS4xOTguMS4wNS0uMDI3IDIuMzMyLTEuNDE2IDIuMzMyLTEuNDE2IDEuNzQ5LjYxMyAyLjc2OS40MDkgMi44MjcuNDA1YTQuNjE0IDQuNjE0IDAgMCAxLS4xNTktMi4wOTljLjY4Mi00LjAwNSA0LjcwMi01LjI1MSA2LjkwNS01LjAzOS0uNjA4LTIuODkyLTMuMjUtNS4zLTcuMDYyLTUuMzU4em02LjcyNSA1Ljg0Yy0zLjQwNyAwLTYuMTI1IDIuMjkyLTYuMTI1IDUuMjE4IDAgMi45MzIgMi41ODUgNS4zNTkgNi4xMyA1LjM3OS43MTMuMDA0IDEuNzc1LS4xODMgMi40OTEtLjQ4OSAwIDAgMS43MTMgMS4wNiAxLjgxIDEuMDUyYS4xNi4xNiAwIDAgMCAuMTQ4LS4xNTJjLjAwNC0uMDY2LS41NDYtMS43Mi0uNTQ2LTEuNzIgMS40Ny0xLjE3NSAyLjA4NS0yLjQ3IDIuMDg1LTQuMTIgMC0yLjkyNy0yLjc3NS01LjE2OS01Ljk5My01LjE2OXpNNi4zOSA2LjI4OGEuOTI3LjkyNyAwIDAgMC0uOTE4LjkzNmMwIC41MTcuNDEuOTM2LjkxOC45MzYuNTA2IDAgLjkxNy0uNDE5LjkxNy0uOTM2YS45MjcuOTI3IDAgMCAwLS45MTctLjkzNnptNS41NTUgMGEuOTI3LjkyNyAwIDAgMC0uOTE4LjkzNmMwIC41MTcuNDExLjkzNi45MTguOTM2LjUwNyAwIC45MTgtLjQxOS45MTgtLjkzNmEuOTI3LjkyNyAwIDAgMC0uOTE4LS45MzZ6bTEuNjEyIDQuOTc5YS44MjEuODIxIDAgMCAwLS44MTEuODNjMCAuNDU4LjM2My44My44MTEuODNhLjgyMS44MjEgMCAwIDAgLjgxMi0uODMuODIxLjgyMSAwIDAgMC0uODEyLS44M3ptNC4zNDIgMGEuODIxLjgyMSAwIDAgMC0uODEyLjgzYzAgLjQ1OC4zNjMuODMuODEyLjgzYS44MjEuODIxIDAgMCAwIC44MTItLjgzLjgyMS44MjEgMCAwIDAtLjgxMi0uODN6IiBmaWxsPSIjMDBDODBDIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4="},1025:function(t,e,i){function n(t){i(1026)}var s=i(8)(i(1027),i(1028),n,"data-v-2de0eb26",null);t.exports=s.exports},1026:function(t,e){},1027:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),s=i.n(n),o=i(970),a=i.n(o),r=i(971),c=i.n(r),l=i(19);e.default={props:["pin"],components:{Thumb:a.a,UserPopover:c.a},computed:{title:function(){return this.pin.title},user:function(){return this.pin.data.user},date:function(){return Object(l.d)(this.pin.data.createdAt)},topic:function(){if(this.pin.data.topic){var t=s()(this.pin.data.topic);return t.id=t.objectId,t}return!1},likedCount:function(){return this.pin.data.likedCount},commentCount:function(){return this.pin.data.commentCount},cover:function(){var t=this.pin.data.pictures;return!!t&&t[0]}}}},1028:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-link",{staticClass:"content-box",attrs:{to:t.$pinRoute(t.pin.data),blank:!0}},[i("div",{staticClass:"info-box"},[i("div",{staticClass:"meta-row"},[i("span",{staticClass:"meta-item sign"},[t._v("推荐沸点")]),i("span",{staticClass:"meta-item"},[i("user-popover",{attrs:{userId:t.user.objectId}},[i("app-link",{attrs:{to:t.$userRoute(t.user),blank:!0,"st:name":"user","st:state":t.user.objectId}},[t._v(t._s(t.user.username))])],1)],1),i("span",{staticClass:"meta-item"},[t._v(t._s(t.date))]),t.topic?i("span",{staticClass:"meta-item"},[i("app-link",{attrs:{to:t.$topicRoute(t.topic),blank:!0}},[t._v(t._s(t.topic.title))])],1):t._e()]),i("div",{staticClass:"info-row"},[i("app-link",{staticClass:"title",attrs:{to:t.$pinRoute(t.pin.data),blank:!0}},[t._v(t._s(t.title))])],1),i("div",{staticClass:"action-row"},[i("div",{staticClass:"action-left"},[i("span",{staticClass:"link-btn"},[t._v("赞: "+t._s(t.likedCount))]),i("span",{staticClass:"link-btn"},[t._v("评论: "+t._s(t.commentCount))])])])]),t.cover?i("thumb",{staticClass:"thumb",attrs:{url:t.cover,width:120,height:120}}):t._e()],1)},staticRenderFns:[]}},1029:function(t,e,i){function n(t){i(1030)}var s=i(8)(null,i(1031),n,"data-v-5fe30a0d",null);t.exports=s.exports},1030:function(t,e){},1031:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"entry-masker"},[i("div",{staticClass:"entry-info"},[i("div",{staticClass:"info-row"},[i("div",{staticClass:"entry-title-box"},[i("div",{staticClass:"entry-title masker"})])]),i("div",{staticClass:"info-row meta"},[i("div",{staticClass:"meta-badge masker"}),i("div",{staticClass:"meta-badge masker"}),i("div",{staticClass:"meta-badge masker"})])])])}]}},1032:function(t,e,i){function n(t){i(1033)}var s=i(8)(i(1034),i(1035),n,"data-v-c85b99ca",null);t.exports=s.exports},1033:function(t,e){},1034:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},1035:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topic-box"},[n("a",{staticClass:"event-link",attrs:{href:"https://juejin.im/e/gdd",target:"_blank","st:name":"banner-entry"}},[n("img",{staticClass:"tag",attrs:{src:i(1036)}}),n("div",{staticClass:"cover"}),n("div",{staticClass:"title"},[t._v("2018 Google 开发者大会")]),n("div",{staticClass:"update"},[n("span",[t._v("来和掘金一起关注 2018 Google 开发者大会，了解 Google 创新技术")])])])])}]}},1036:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMzkiIGhlaWdodD0iMjIiIHZpZXdCb3g9IjAgMCAzOSAyMiI+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGZpbGw9IiNGMzAwMUUiIGQ9Ik0wIDBoMzl2MjBIMHoiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNjkwMDBEIiBkPSJNMCAyMGg2djJ6Ii8+CiAgICAgICAgPHRleHQgZmlsbD0iI0ZGRiIgZm9udC1mYW1pbHk9IlBpbmdGYW5nU0MtUmVndWxhciwgUGluZ0ZhbmcgU0MiIGZvbnQtc2l6ZT0iMTMiIGxldHRlci1zcGFjaW5nPSIxIj4KICAgICAgICAgICAgPHRzcGFuIHg9IjYiIHk9IjE1Ij4mI3g0RTEzOzwvdHNwYW4+IDx0c3BhbiB4PSIyMCIgeT0iMTUiPiYjeDk4OTg7PC90c3Bhbj4KICAgICAgICA8L3RleHQ+CiAgICA8L2c+Cjwvc3ZnPgo="},1037:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{ref:"list",staticClass:"entry-list",attrs:{"st:block":"entryList"}},[t._l(t.prevList,function(e,n){return i("li",{staticClass:"item"},[i("entry",{key:n,attrs:{entry:e,direct:t.direct,index:n},on:{deleted:t.onEntryDeleted}})],1)}),t.bookHot&&t.list.length?i("li",{staticClass:"item"},[i("book-for-timeline",{attrs:{info:t.bookHot}})],1):t._e(),t._l(t.middleList,function(e,n){return i("li",{staticClass:"item"},[i("entry",{key:n,attrs:{entry:e,direct:t.direct,index:n+t.prevList.length},on:{deleted:t.onEntryDeleted}})],1)}),t.recommendPin&&t.list.length?i("li",{staticClass:"item"},[i("pin-for-timeline",{attrs:{pin:t.recommendPin}})],1):t._e(),t.list.length&&t.isVisibleBannerEntry?i("li",{staticClass:"item"},[i("banner-entry")],1):t._e(),t._l(t.nextList,function(e,n){return i("li",{staticClass:"item"},[i("entry",{key:n,attrs:{entry:e,direct:t.direct,index:n+t.prevList.length},on:{deleted:t.onEntryDeleted}})],1)}),i("li",{staticClass:"item"},[t.loading?i("entry-skeleton"):t._e()],1),t.noEmptyIndication||t.loading||t.bookHot||t.list.length?t._e():i("div",{staticClass:"empty text-muted"},[t._v(t._s(t.emptyText||"列表为空"))])],2)},staticRenderFns:[]}},1038:function(t,e,i){function n(t){i(1039)}var s=i(8)(i(1040),i(1052),n,"data-v-fb64097a",null);t.exports=s.exports},1039:function(t,e){},1040:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(983),s=i.n(n),o={welcome:i(1044),timelineIndex:i(1045),columnIndex:i(1046),collectionIndex:i(1047),exploreIndex:i(1048),entryPublic:i(1049),entryDetail:i(1050),column:i(1051)};e.default={components:{SidebarBlock:s.a},props:["closeable"],data:function(){return{visible:!1}},methods:{close:function(){window.localStorage.setItem("HIDE_APP_DOWNLOAD_SIDEBAR_BLOCK",!0),this.visible=!1}},computed:{qrImageUrl:function(){return o[this.$route.name]}},mounted:function(){this.closeable?this.visible=!window.localStorage.getItem("HIDE_APP_DOWNLOAD_SIDEBAR_BLOCK"):this.visible=!0}}},1041:function(t,e){},1042:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["title","pure"]}},1043:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sidebar-block",class:{pure:t.pure,shadow:!t.pure}},[t.pure?[t._t("default")]:[t.title?i("div",{staticClass:"block-title"},[t._v(t._s(t.title))]):t._e(),i("div",{staticClass:"block-body"},[t._t("default")],2)]],2)},staticRenderFns:[]}},1044:function(t,e,i){t.exports=i.p+"static/img/welcome.6f27533.png"},1045:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAFDElEQVR4Xu2c23LbMAxEnT/vn7uTphq7qsSzC4AW7UFfQQLgLm6knH7d7/f7rf8tg8DXNyFfv17vz/3J5pH9Z/neO8Vf0r/XmbVXhWAT8hfJJqQz5DCpOkM6Q34QcGu8W6Oz+rP7XX+39acZMqqprjFq2kqTHjXhiH4C3JG7eIyGlCbkdrtlCW1ChJLnRPjbEXJFSclGXXZ/llCyf6ZfKlmzCSHnI/bdnuOuJ8LoTE0I3HuaEOO5pjNEaJrRlNz2OWN1BSHkb2dIMkOyhFbujwTMx/WQSkApeyJjMelsQnYIVRL6cRkSOZBb852IHT1tHPXAiP9LZ0jkQE0IhdigJMyowU1IE/IPAh99U++S9eBaessyk+O/5ZGS5X7jrlzvNvVKfJoQAU0KKEHFcMmz/iZEQHMJQgQ/U0uoKZKcjNP+rJzsR+Vv8asTitAr5FHAaV8TEvymTsBG5U1IE/ITO7NrOOmnCM7uJ/1n8j8ZEt1ctS/SA8h2FlDnNZh8ceRNyAlaTcgOmMoIjzzNXEpItcOKvizgThm4Yq37lLP5GJ6yogY3w1lCsvb3JGX9Genby0YB24T8RasJMX+4VhWBZ+XrowhRekZ1HV+9ZEVLYslrL90jnBqqEucSQhng6nMBJ/vY1J2xrwmpe3noDDlo6pGMpgwguZUhkR6hOqCWKFpH9rLyrH3afzkhDkBKxFaW2FcE4Nn5pZI1w8Em5BFm9jf1JoQLDgWYOpVNyxA+greCDjxb7nnLq4cli7d7K2gMzmYceUP2I/tpD8nVHjflewgB0oSc09eEHGATCZjSDFEcoBpNDmXlWftqyfj2U8HDPY/6NCM/v2cBGU0Z7j0jAphDiOKPcx4iTxp71TGNjJ3J1YjZ9mcDogkBppoQ82IYjfxZ+2ZmSMVU6GQgfsKN1EwC3s2Aan1ZgCgAHP0Ovodjb6RpOk0uot8l2AEskiGO/iZk91NVyr7lCIlELB2yWu5mSNY+lays/rP98j1k9hhMB7ySEKfk0DlojG9CThCcHQD2Bypi+tUpPRug2UOJWmHCGUKEvbt8dsCVfg/JTiWR/S7BBKgztipDj6NvdJbQ83sEUAcgBQAiyLFHuhR/mhDjrYwCaDlC3AigAyr61CZHYEXllEFRvUdjrTI2b/7ITT2TkkSg4nD1FNSE7BDNjrGV+yMZTRnk+tcZkvz7lI8mJBKhbgQSgNXyaEkMjb3VzlOPIXmkB9EZnJ5J/jnyJiTwlqUEAGVI6U2dosuVOxEUHStdny7NkEgNdw84+95BEen6S/pITvbKX3vJIMndpkwAZCPaDRjyJ3pvki+GBLArb0IeiIV+KOcCTuubkIUJqehhVEJI/sqShb/LoimHop3kpD8rrxhDnZrv2lPWb2ukv6AiwEmeBZz2KwfOZEj2fIp/TQignJ3a3B5pERKp8RSRWTlFrdsTXH3uejrvUoTQ4SIB0YTsEKCIyJYEIrEJaUKGMUIBunTJqihRq2WImtHS2BsBiCIiOoVsB8voV8bQrH8qAfvzNCHCfzWuEOgScJbBTUgT8hMbVHIo4rL7Sf9VPWiJDHGfRl5RQkaEKPajPagJEVPFBdhdv9TY2xnyiIplM+SqGi4mDC6bmiFoHRZQBij3HLeJz15PmDhPQ8+6pAwh4yRvQgghs2Tp6o5XNiE6gkv86kQpWfqR1lyp9pS3JUQ94Bk91GOiPeDbHlWE0T2mCQkASDmYIeQ37vz1cP7VtusAAAAASUVORK5CYII="},1046:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAFM0lEQVR4Xu2d0XYaMQxE4c/75+SkOUvIBvvOSDJsQH2VLVsz0sh2t/R8uVwup/5zGATOn4Sc/z1+P5fEmsp+b/3fG++sr6xXhWATIiDZhABICkBdIUKm3Q5xJGPvugkxwVaGzwhRAFfWmI1xEuIR+9n2OuwhzoYJHLepKgBkCXXic/dPeMwqvgkR0GtChCPxW1eIIiH7RMuccpT1yD8lfqVkKftV8ZEkq3LBbWMOIAQuSQrZV/gnn6OEakIIudPpRIRWJmwT0oR8IUA9wJG0bIYSJ29XIRRwBLBZEyV/yssAJRStcege0oR803eIHtKE/AFCHMlReogrMTSe7C8nWQ4hKzSfACd7E3KDAElgRUU1IcL71vUJ+85YF0AaT/a3qhAlw9W3oxFwBDjZlxJCzslOEkLzlR5BPpyLprJext/Mv3TspWDJ3oTMEbrFpwmhbBIeFwUX0yESIdlFaD5pMNnJP9nJP9nJf9R+iO+ySNKOaI8CTvOaEEGSIqc6An5kb0KakK/cII0mO2Xgs+fT/qYVEp38qHmKZDj3gmp/lTj8l6xKhyt8VQNY7a8y5iZkgKZTceWEVGeM4m8fRKXmE0DK/hxCKv3Jp6zqDbqEEGHV+3uWvyakQLK6QuDvO95CslyJIVBcfyRZ7no0fiZZSkWQ/1H80mtv9i3J3Rytt/e3EqB7e1+5XhMS6CFNyO6ppSuk4KMBt2eQzK3uKav9L33LipQwBezYV1SMs74SP/nbYih5OlE25FYIBbD6FOSsr8RP/poQ0EQCkOxuAv4gpJJh0v7N7gYUDVDdz+pxaryhpxOFwBmAFPyKe0j2bUoFdBSbKrFNyB0EKSGqEzL0GdDKDFFOSWqGRTLUXf8QhJDMuHaXYHd8tWS68Tnrhyoku6FsU34kIUrFOIATdk0IIbSzKxLlHBpmhMtN3YwBh7sZ745flcEVPeqQhCBjuwErCak4VTkVMqu4kud3RXMJUCcgl0waT4TQfNc+W68JET4ldQGn8U0IIPQSFZI9xlbPd5q4cmpy/FVI9uZDkqzKBTdf2Zs3yYLrv7LHUcWlm3oT8vNrfUqGJuQOQi9dIYrmUslTVmXnO5qvxLO6x43wkHoIlWCFpGUJydxjKuJzCRzF24QE7iFKhVGCNSETzXy5ClEyhnpI1l4tWZX7IcKl53cnQGdBNdDMKUld43oZM35pSPXtSNatT6mH0CaakN8INSGJLF8huS9NyArAqOqz9hQh2cWz8yOSRwFn97S6h478l3zbmw2+CflGsAkZZNNTK+QZGr1acrJVS/sjO61v39TJYdaeDch5TFTe2qreoka4qPeqP/MZECVAVmKakJt7Q4VkNiGUsmCvlizajrsejSe7W3HXZ5zRf07sZByBkT3WRvxHAdnmOfFTfEoP29YrecuKAEYZlgWkCZmwQhlE9gjhL01IpOk6FaD4V4+NRN7R7ZJkKYC5GekCnBkf2f9q4uyLIWU4bZjmZwB2muTn2CbE/BlYF2B3fBPShJCADO2H7CHhaAYTj3CKIwm3LoaRkqcNOPeMLEFNSFKysgS4PYbWUxLSScCZvz8hWQog7rF7Nl4hNLveKAneghAFYEdCXQmk8faHcisyNAsAyUzlPSdLaBMS+I3GbIJkEuBwFeJkEFXGZqcm6/aAR/mTeogKwrBRBX5EM5NxisQ8khDCz64Qckj2SAU0ITtUHU1tQn4j4OAnVQiBnLWTJmcqJHIqpHhov878maQe9jMgJ8NW9wwCW1lfTbAmJPBvDIkg6pkzAj8A1j4S+q7p9BcAAAAASUVORK5CYII="},1047:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAE+ElEQVR4Xu2d61bjMAyEy5vvm3cPu+TQExJ/M5LspkX8lS3JM7rFCfBxv9/vt/65DAIfn4R8/Fnvz/3B5pH9R/neuwp/R/pn2FMRbkIEpCoCQDDzb0kTIiDVhNxuty5ZQqRULqEeUmnrSBfZJ/ks/05LltP0yDlq2pGSQIA5/kf8c/Q7+DQhn430YMqsJLwJgR6kjLWXJmR2SYnop6jby90hwSEk4v+ZfqlkVRrcgHJqcMR+E7JDwIkwivYmZFeDI4A0IeMw+/Ula1TCslNWZcC+bA/J9iAngyOEURl+uwxpQojyxU29CZlISKQGuz3BXZ8taQTXpUvWCkL6wdB4I9iEfOfTJaasJuQXEvJWPYQaFMkjc3x1zXfuttzbYDo/yR/xkUoWKSR5EzJGqAkpfl9CAUlyiRBSkpXPnvPJv2fbP/PvJT4Dypa8GfuJ8Ki8CQm+U48CTvuakCbkf4zMruGknyI1u5/0D3tIdHPVvkiNJ9tZQJ3bZPLFkf8rWc6GGWubkG9Um5CTCHtqhkQu99yrjdHVRcT+jEyt1BnFJzxlRQ1uh55Z4yMEZ/0ZBdxeNvKvCflCqwmBF1hUPrIZOruERv0ryZBnlIjogc+Irs6QKOGHU5YCsHuAmQAqNZr8zfrn6MceohwoyvhRE4/YyzZNB7CIf47+JsS8qnlJQqjprpZnI5T203my+zf9cg9xDWbW0+HpqiW7X+mhlSX8xxtDJUUzACsHdK4qmhChBldGTDbCs/uVAKo8byhD6JCz5ZShs+XV5zvzV+4hWYcq53zyZUZJI5skV0tyE3KAZKRkNSEDBF4+Q2ZEhBMxin3qEY49Wqv4QzqiNwvy5WK2B0Qd3PatJER5DHDOQ+SFvlxsQsawqk37SEsTQiG7kyslbDkh2QchwoBKEskd/UpJcu05hNi3va7DBMbV9dFURvKK8286pM+AVjjkRFg1wXQ+kjchQo13CCbASV5OiNK0yOjKKUzJEPKX5G4PIX2qXH4OIYXvTMiMABheLnaG/Ay36gBTp9TOkJPUfytCqjOuQh+VXDWCXT1n6633IZGaSU2Q5NWAkL3sFDbyN0Na+DnEBZAAcvXRocleE2J+y0uAvjUhFTU6C2B1hmQJo/0kd4eCbb08ZVWnuHMg90lZCbDqAHJ6yug8TcjJr0VTwJC8M+QBoc6QXbgogFCEkdyNQNJXLY+WRGnsrXY28pyTrdHuGbI9kwhJPRi6h3HXRzJqdoY0ISaLb01IJEJN/H4sp5R29a/Wl7U3/fo9A+DsnhLRT4CTPNrz5OcQF3BaX11ysjXfvSloQoDhJoRSwACwoodRxJJ8ZYbgd1nuXZHLBemPEOKWvAwhdF46n9PDLvt3ewmEJoQQGsgpgjpDvsGTMiQL2AxC3PhwS5arn9ar9i9BCB0mEhBukyYfsvImZIegCkgW+LP9qv3OkFkMBAPikoRUlKirlSyV95chJDPmEhg0dDjPEWSLSloTIvyp8SYE/uG8AlD2bsvNyGhmbPs2e5fIEKVnrAboWT3osoRkIzwbsSNCshmavlxUItiNKJrLm5Dg3ExTw6ecphiSU7RHAoZ0doYUB4QLePX6aM+TekjWWcqAiJx8opLolliy52TUSFcT8oWOSyAR5PTAR11NyKsQQhGQlVNEkjxrf/V+tadc4jOgSA9RD1gxBbrk0XlGzzFNiDCWryTkL6qe53BInY0bAAAAAElFTkSuQmCC"},1048:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAE3klEQVR4Xu2c63bjIAyEkzffN8+eXnI29Rq+GQlsGqt/BUjMSCMgSe+Px+Nxq79lELh/EHL/c3w8j4RPJd7e+nvz3fGzECtCvpEtQqpCdousKqQq5AuB2RKRXf91vtKzRvWUZoVkmu42uBlN9Mj43Phdcl7XL0JutxsBTnaXgF7CFiG/kZCIhpIGz9Z4xz9VQMROVdOKT6qQowmhzbg9KgJollDaQxGyQSgLOM0vQg4G/K0JIUmhbJstqRTfSP9L9BDacBGyuUmPzIAnuFTyzsXv7PhG+q8KGXAPuQQhW5nK3lt665FkRuwks0sfe5UMcyRshXtKEdJBIJLhTo9TEkqt0GV7iCNZlI1FiHBKowxUM4rIaNnJf9ZOcaV6CC1OdspQmq/0BHcNpyeNjv/XPb8TuBHNzkhgEQKMXJIQytKsfbZGU3xn+2/Ft8S3TkgSVrQT4VF7ERJ8OokCTvOKkCLkK0dmazitT5manU/rd3tIdPJR85RT1czHx6P2+eHnU7KOdBjxVYREUJs453KEZDc84mkjq9lnStZI/ORTVvbthwqICHHs5GskgJ+6L/y0QsWvCGmwpwJYhAj3hstVSOQpg0AiO0kWzXfto3sS+X/62z32RgAfXeLbDZwF0B6QSs8gAlr7K0ICPaQIOeAncKtUZOiUpWTIbM3/7et337JmAOwC5vYId3xU01vH2sz+engvUyEuwO74IuTl9upWoPIUU4QkAFYIGZ3B7nqzx6sSd8rze4SgbEVk70kqoC1i1fiLkB0EIxdjqrAiZIPQW1eIIjnZEu9d1BT/zkVPOURQBZB9aoUogBAhaoDPjdJ6GUBorrtfWq+XAKEe4gZImqxkaBHSobkI+R8cp0dhhVAGKwS4ZbqSZI3Yv0NI6OnElQganw3Yme8mBxHirkfje/6G/aStCCEa/tmLEMDqLStEz4/9kU6FKT3N7VEUvyOZRHC6h1CwCkC0RnbDzkUwAlg2Pkq4Z/xSDyEwi5CfCEUIL0I6b10EaCRBh1bIiAqgTWQlIStZTnwz8ZAkSwmAMsCxEzjZDHafapTxvYSgeF/tRUjgq6kzE7QIeVdCSGZcO0mc0zPIt5LxtMahknWkhj59XYmQV3wlySpC3PrwfmVchGzwPVuy3pIQP4fnziDJbd27Qh/hjt4KndPJ3+wMj/gvQgg10559OShCTMBp+KmEzCh5Z8Nn+M/GRxUQXV/+OQI5cO3ZDWUuhkoCUHxkd+KT3rJcgN3x7oZo/azEjLppt+JUP8GsCmkgSAlD9stXiFNBZ0vW9M/UCQy6ZygAuZIycnx2f9v56a8BUUBkL0J+IlSECP9S0NF8J+P3kjVNyAxJcZtiVoKoilexS8/vswkhMCKSlyWcYsraW/EVIVlkg/OLkCBws6YVIbOQHbzuW0gWYUI9KDLfPWSoPa0IITYC/+SSEiB9U1/9lEWYEkCR+ZeqkEgCuAA5F0ElHlWSkPyPfzVOGaQE5AKiPkc/13U3nFkfQdv5P70Zf9LnIS4ARUibRifhl2zqzgZaMGQy9vIVEpFEAs2tcBpP9oxC2JJFmyd7JOMzAGzjUQgnf2R3Dgm9+CTJIsDJXoT0EaoK2cGHKoDs0yuEsj5rdzdI/kav5/YEJ76QZJGDrN0F8Myv+bh7JYkuQpISdSQhfwGuCyT6n1NJAAAAAABJRU5ErkJggg=="},1049:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAEx0lEQVR4Xu2c7XbbMAxD0zffm2cna7NlbuwLkJJjN+hfUiQF8ENS0nxcr9frJX+HQeDjRsjHr/3juT74fOb/Ub6MTomX7C9tdv2NQjCEfCEZQlIhT4sqFZIK+UTA7fFuj+7a7653473rr1bIVk91ndHQVob01hAm+xQvrSc52Sf5o/0QcrlcCHCSE+AkDyELhAhwkhPgJLcJmd1SKvZpk26Lc/W7M2ZtvdSyKoBRwM6Mqvh3AXb1aX+UMCEE7j0hxHiuSYUMuCdQSe/dsqiFpEKaFdJ9e+omBCUcJcCPmyEhhChfyCmDRmboMjRl5oz0r/hTW+Ihjr2VDakbVPPIrThKOPJ76Ja1ByEEYAgx7wXVjLuvCyHGB1CpkH/p9jYz5EdVCLULktNrKcmVU5RzaqJ49/Znv/a6G3A3FELMlhVCviMwsiKlCumSQOudnl4Z+l37tJ72V5Wf4lsn1NJeIa8CTutCSPEzdQK2Kg8hIeQzd6hHk5wykNZ35eS/Kv9TIdXFo9ZVZgD5HnkKIl8j5SFkJJoDbIWQASCONFEe6u5z9TJo6uEjN/nMVjd+iq9q/7SEVDd8B7K7PoQsEOgC2l0fQkLIdg6cfQbsHb/q7+kpS3nMUx0869mK/dEtwW1Ro/en2gshg55OCHCS3xMwhLwrIdSCunLKQJLP9q/aH1IhS2fKjCCAOj2fNj/77ayz/xDyxR4lCJHsrl/TDyEh5BOBURmlHqvJH8mpQlz5rhXiBuf2XLJPM6KyntaQXP18ZkrLouC6hwCyH0IIIZCnQv4BNKRCFECXnLg929Xf8kf5U9kP2VSP8UM+MaxswAXY1e8QMrulbtkPIZTaK08rswgPIWckhE4tZ29ZI/anHmtv/G/hJVUIBaz0XHWoPbvoURK78bnxdu0r/u46IaT4/O5URAhZPM10K2z3CtljBhAorrx7DCZ/s+2v+R/yvSzKoArhrwbMnXkUr3oxDiErSIYQM8Vmt5QQYhIyW31Pwr/90+fszbn2R8wcAtQ5tirxOPa28JDuIS6gXX0FAPIRQgghQ/72hCgAUMapxzqDl6mq7n7cYNxDwV1fPva6G3D1XULdDbv2XQK27CtPJyFk8O91hZCNXzWd0YLdinEr+O0rxAXY1a+27EMce+ktzAVDqRCy6dwrKH5HHkIKb1nOkL7phhDjV7PXKuWlFTKixKkFuMdOtwe7+hQv2SN51b58DyEHrrybgc4xU2kxeybMVjwhRJghzgyotMBvr72vbllUXUp8Myvu7QhRACfSqKeTfM+Whd/LogwgMEhO9iuEVG/Ca8fQ0TPJje/uX/plawKc5CHkf4RSIc1/oesmnHPKkyqk21JmVAiB5M4E156rr86wQxDibm5GgrgxuPohZIGYCogLtKqv+k+FqIg29X4UIZUWdbQZovJ5igqpHAq6N/fqPUIFfi1hQojweYVzbA0hBUAVgN+6QiozQh2S1Yx91Qw6RMs6GyEzKyyEiCXktjBX33pcnJHB3ZbTXS/y8FfNBdjVPz0hLqB7608lpLuZ7j1iRoXOHtrOPegxFmmGhBAfgRDSfEwcPZOGE+LnhLeCACC55+312upMOcTXgLozRrkXuDOjmuE3P7SfrXhDSAFAqrcOIb8BQLPhcIRSNNMAAAAASUVORK5CYII="},1050:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAFL0lEQVR4Xu2c23riMAyE0zffN2e/3ZKWpon/GUtODKi3snWY0cE20I/b7XZb6m8aBD7+EfLx53x/bg829+w/yrfe9fh7tr1eRIuQO3LZCVCEAAJVIZMBVIQECekt+aN9T09Iq6e6YI0Y2pn+UTyu/6SvdUg5HOqZAbsBKaeoTP8IQNd/0leEuAht1k9HiJKx25hH92zS3/JHudeQfpJTDhztl1rW2YRkAFaEbBCgDHJmALUMJWHci5/jv2Jf7SBVIcuy9BBOhFXLIgQCFdxDGLnz1DOEgstsGastqgCSk89FSFXINwJU8pRNJK8KIYSWZaGSzj71CC79WOL4RwmVmRBTnrJ6AHCO0Rn3HCKUEuSpZkgRsvMR7qgM2DvFZGcsZWe2vbdsWS7IL/10EgWDWhDpp/1KhmYfIiIzq1Wh0lAnwEhOgEb3FyGE4EZehLQBe8TnKb4GRIQqFaK+tqpPJ2ZOystflhA6JUblMsLmwiKk8/ndxFleXoQUIZ/JcnXLuNr+Ucn8rxC5ngYtzBjaBLBzURwUpqS2CJFgOm9REXIe1pIleahHWkJGS6JoIv6RbvKf9pO862IYCdgNaPRFjwDayl3/I/qnqBAFAAqSEibyGFiEdPzE7u0IoQyNvBVlVEjEP9rb00JJZ/MeQiXZ49CZLWIG/3oJWPeteEmfh8wQsPsBEwGUnTBkj+RFSMecWkHtSdAwIaSA5DRk3ZlD9l5FvntTVzKAACd5i5CeIU/2SO4S6rZQdX0R4jJxX68CvB3ae+Z+3dRnyEg3QLflPVWFKC3KBaAz8YZtyyZklKNdTyfRiurZHwXArUB3fdS/rxOc+t+Aog5G90cDdu2766P+FSEPCNJLxZkVfVrLunoGuRl/1cyRnk6oHM84FEQBGv1UkqW/CKFsO/iakHOxJRPSJ4YO41UhP7/WRAS0ZpI8Q1wjtN5tQe76qP2oPXdm2acsJ0Baq5xanApV9LmHil5AVzvufnx+d0HNBjBbXxFiMOreA0i1MtOoJbkZ7gz5VrxpM4QCJBCjAbn63fXZ8R3ZlwlxWoiSoQRINEPdFuX4QxUdib8IISbucqoQkotmliJERIoAJ7lopo+QSEmqjmUFuHcM7fE/2x97hozs4cq9wQXAmXGufWW9O7OO4ut6y4pmmBJgEbJBqSrkuLkqCUkJFaoQxQF1Nqg9nQKK3ltc/dnxhWYInbuVFuQAqOhzZgb5f0XCHeEhzRAKSAGwCGnXGD4uUklHZ0xmhlM7oYSqChF+p04gzy6nhG62rKuDUzLUDTAa08gKxtfeqPPR/UXI90fA0/5O3b35RpPizEMHVoiSoSMDVuxf2bIyDgWq//Jr70hCXN0EEOnLSAAV4L2LcOuaUIQcsEeAk9xpgdL3sijLonLnFKNcPB19VSE77LkXy0hGKgS4h4hR/khPJ9FqcHt+9vooIRR/pr9FiDBDihD4X/TuTHm5CokGRCU9Qj9l9dlydeZILWsEYKqDR8BF919JSNc9JBow7Sc5ARbdT/qz5eqpsiokG/mOQ4J0MYxmIO0nOeEU3U/6s+Wqv9NWCAUQvZlH94+6SBYhQikohxongVr6ipAi5BOBaEZF97stR+AtZckUFRKNJOPiOQvBRcg9G4qQwP88HPGWVYQ8EKKcYtyeTwC7bdLV565f/ZFaluv8iAxuEUL+RQlX4nET5sjnIiT41HEEbFVIo0xeokKoDUTlvRm02lVfT3v9HK3fblm9gaj7XEKufHtSY/oazIFPPKf4XpbSUt6FkL8o4gd/yMSHfwAAAABJRU5ErkJggg=="},1051:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAE/ElEQVR4Xu2d23LbMAxE5T/vn7vTTjVVZJFnFyBlyUZeQRLALm6kneTxfD6fS/1cBoHHH0Iev86355nQOcJeR/8IfSrCRYiAVBECII0AqDJkB7IDyJ6fIkRIa3dJj5ARgJM9TkCcYc9qb7OHOAaT80cOZQkZad9o++m8XsYXIQJ6bkAJR/5Ysj2/CBHQuxwhkRq6LSmuQ4o+53zSP0NOPLfslzJEAWhvgAMYGU/yGYA69o/EpwhZlmUGoRRElSGde1ARsiyLUxIo2mYA6tj3cSWLAM0SQvtJTvYVITsECTACnOR0fhFShFAMvcpH12D3qYX0k0e0n+TR8y8x9iopn3m7Us7P3KNGnl+ENEKZMoDklSEdBEZG8KqmCNl8Bh8BmCL2ViXLdab33n8UYe75EUJG96DMeT18pB7iAlaEeIhd/vMQcucrM4RAycqpKZL87vpb9l/ie1mRpwkibLY8GxBFyA6BLGFFyGBAi5DBgFKEZgGn/aQ/Kv/bQ6Kbz9qnTFWZx8ez/FD0FCEKSieuKUJOBFtRJY+9zlOBUmLctyNyJlOyaOwm3Yq/Kn63IYSarOrwEbhFyAEqDuBZAEe/tVWGHPw63NdlyOiaT3V5tj4nI5WMcv1p+Sf3kCxABAA55DbtzHm0VylRdEYR0nkpcMErQnZfPR1RQkb3HJfUt2dI1uBsyXT1Z0usq29df3hTd8dKWk9yMt7dP6KkECEkjwZQEdKIBgKc5EXIBoHbZ4jiwKyIoHLVkrv2RPWM2qfaK99D1ANXB868N7gBRSBTz1L09UpWb0osQg7YKUIoZAfcQ5x7xy0IETD7scQtcXR+9rwsIWQfydUSLo+9oxQe9RilJp9JSOQlwCEce0jEgGjTKkJeQ/vlu71FSD//3QymaoIZoih0lWRLTPSmq9xblAB07XdKVg9v6dcRIoSpTUwl2nFYPXNdR1OVex6t7+krQoS/dUIAu/IiBBD7ugyJlLxsD3lnySSC0z3EbYLKekrzLKDufmriTg8rQg7YLUI6fzo8UrJcQGdfVC+VIQqgWQCphLny0fZQSXPta60fNvY6EUTGKwHgZEREX5ZQIrAlL0IC9xAlYIqQwf/+4qMzhMbA2WNypGTRHpJPzRBSTnKXkCucRzaQ3CFke5bUQ0g5yYuQV4RaJbEIaTR1CjKS3zpDRkwtBNDZ8hQhZxsbaeLZqcf10blXUUkm+UsPcY0dvd7NkAihrs1FCCD2VRmiRKgbYbSeamzvaeQMe8k+kkf9l79KSgpcuesQrc+WGDcAyJ7eeb2SW4Q0IokAJ3kRYrxlKSWPACf51xNCJTMDII2tIwhe7b/ETd11KDL2Zgghsokwxd7VviJE6CFFyAEC2XvIR2WIUlKuMjZSNF9dLpWs2YQ4NfYIUKrhEftnEzf9M/VMhhQh/xGoDJmdCsLQsM3gIuRNhLTUfgQhhCn1mMj+TIlOf9k60hRpzHTHWOfxMNuTlP1FiPFWpQDqEKwEpBOAH5EhVFbciI0+/rXsIEJU+2/TQ1SH1nUzS6Lbk2j9LaesIiT5b+oohd0ILkJOJERpmhlClPOdAJp5ntRDXDDcKcepsUpTVfS7QwAR5gwJPfuKkH/oEOAkL0J2CGR7EgFO8umEZMsU7ScHSe6WHLKH5K49DkHS2EsGZuXkoCOf3TNcX6knhnqIa4S73gE846AyBLjnk6/uedv1vwG8KQb6n7pdUgAAAABJRU5ErkJggg=="},1052:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visible?i("sidebar-block",{staticClass:"app-download-sidebar-block"},[i("a",{directives:[{name:"link",rawName:"v-link.blank",value:"https://juejin.im/app",expression:"'https://juejin.im/app'",modifiers:{blank:!0}}],staticClass:"app-link"},[i("img",{staticClass:"qr-img",attrs:{src:t.qrImageUrl}}),i("div",{staticClass:"content-box"},[i("div",{staticClass:"headline"},[t._v("下载掘金客户端")]),i("div",{staticClass:"desc"},[t._v("一个帮助开发者成长的社区")])]),t.closeable?i("div",{staticClass:"close-btn ion-close-round",attrs:{title:"关闭"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.close(e)}}}):t._e()])]):t._e()},staticRenderFns:[]}},1060:function(t,e,i){function n(t){i(1061)}var s=i(8)(i(1062),i(1067),n,"data-v-1f85cb5f",null);t.exports=s.exports},1061:function(t,e){},1062:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(159),s=i.n(n),o=i(95),a=i.n(o),r=i(10),c=i(58),l=i(1063),u=i.n(l);e.default={data:function(){return{curBooks:[],books:[],view:"prev",playIndex:0,direction:"next"}},components:{BookItemPrev:u.a,BookItemNext:u.a},computed:a()({},Object(c.mapGetters)({logined:r.LOGINED}),{canPlay:function(){return this.books.length>1},directionClass:function(){return"prev"===this.direction?"transition--prev":"transition--next"}}),methods:{loopComponent:function(){var t=this.view;this.view="prev"===t?"next":"prev"},prev:function(){if(this.canPlay){var t=this.books;if(this.direction="prev",this.loopComponent(),this.playIndex<1){var e=t.length-1;this.playIndex=e,this.curBooks=t[e]}else this.playIndex-=1,this.curBooks=t[this.playIndex]}},next:function(){if(this.canPlay){var t=this.books;this.direction="next",this.loopComponent(),this.playIndex<t.length-1?(this.playIndex+=1,this.curBooks=t[this.playIndex]):(this.playIndex=0,this.curBooks=t[this.playIndex])}},getBooks:function(){return this.$getBean("xiaoceBusiness").getListByLastTime({pageNum:1})},init:function(){var t=this;this.getBooks().then(function(e){t.randomBook(e),e.length>0&&(t.curBooks=t.books[t.playIndex])})},randomBook:function(t){function e(t,e){return Math.random()>.5?-1:1}var i=t.sort(e);i=i.length%2>0?[].concat(s()(i),s()(i)):[].concat(s()(i));for(var n=[],o=0;o<i.length;o++)o%2==0&&n.push([i[o],i[o+1]]);this.books=n},getNewuserTicketStatistic:function(){this.$getBean("xiaoceBusiness").getNewuserTicketStatistic("clickCount")},visibleNewUserTicket:function(){this.getNewuserTicketStatistic();var t=this.$getBean("eventBus");t.emit(t.eventType.BOOK_NEW_USER_TICKET)}},mounted:function(){this.init()}}},1063:function(t,e,i){function n(t){i(1064)}var s=i(8)(i(1065),i(1066),n,"data-v-133abdc5",null);t.exports=s.exports},1064:function(t,e){},1065:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(973),s=i(970),o=i.n(s);e.default={props:["list"],components:{Thumb:o.a},data:function(){return{}},filters:{f_salePrice:function(t){return Object(n.a)(t,5)}},methods:{},mounted:function(){}}},1066:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"slide-book-list"},t._l(t.list,function(e,n){return i("router-link",{key:n,staticClass:"item",attrs:{to:t.$bookInfo(e.id)}},[i("div",{staticClass:"poster"},[i("thumb",{staticClass:"poster-img",attrs:{alt:"小册封面图",url:e.img,quality:95,width:104,height:144}})],1),i("div",{staticClass:"content-text"},[i("div",{staticClass:"title"},[t._v(t._s(e.title))]),i("div",{staticClass:"price"},[i("div",{staticClass:"new"},[t._v("新人价 ￥"+t._s(t._f("f_salePrice")(e.price)))]),i("div",{staticClass:"delete"},[t._v("￥"+t._s(e.price))])])])])}))},staticRenderFns:[]}},1067:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"index-book-collect"},[n("div",{staticClass:"header"},[n("div",{staticClass:"title"},[t._v("掘金小册")]),n("div",{staticClass:"controllers"},[n("div",{staticClass:"arrow icon ion-chevron-left",on:{click:t.prev}}),n("div",{staticClass:"arrow icon ion-chevron-right",on:{click:t.next}})])]),n("div",{staticClass:"slide-book",class:t.directionClass},[n("transition",{attrs:{name:"fade"}},[t.books?n("book-item-"+t.view,{tag:"component",staticClass:"item",attrs:{list:t.curBooks}}):t._e()],1)],1),n("div",{staticClass:"book-newuser"},[t._m(0),n("div",{staticClass:"giftbag",on:{click:t.visibleNewUserTicket}},[n("img",{attrs:{src:i(1068)}}),t._m(1)])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"newuser-title"},[i("span",[t._v("新人专享好礼")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content-text"},[i("div",{staticClass:"title"},[t._v("送你"),i("span",{staticClass:"highlight"},[t._v("45元")]),t._v("买小册")]),i("div",{staticClass:"btn-box"},[i("div",{staticClass:"btn-giftbag"},[t._v("立即领取")])])])}]}},1068:function(t,e,i){t.exports=i.p+"static/img/45.b99ea03.svg"},1069:function(t,e,i){function n(t){i(1070)}var s=i(8)(i(1071),i(1076),n,"data-v-efcd2e56",null);t.exports=s.exports},1070:function(t,e){},1071:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),s=i.n(n),o=i(10),a=i(992),r=i.n(a),c=i(222),l=i.n(c),u=i(1072),d=i.n(u);e.default={components:{Avatar:l.a,ImageUploader:d.a},props:["user","entry","vote","placeholder","type"],data:function(){return{content:"",isActionBoxVisible:!1,submitting:!1,metaKey:!1,ctrlKey:!1,enterKey:!1}},computed:{submitAction:function(){switch(this.type){case"book":return o.SUBMIT_BOOK_COMMENT;case"repo":return o.SUBMIT_REPO_COMMENT;default:return o.SUBMIT_COMMENT}},displayedPlaceholder:function(){return this.placeholder||"说说你的看法"}},watch:{content:function(t){t&&!this.user&&this.$requestRegister()}},methods:{focus:function(){this.user&&this.$refs.input.focus()},blur:function(){this.content||(this.isActionBoxVisible=!1)},submit:function(){var t=this,e=this.entry,i=this.content.trim();return this.user?i?(this.submitting=!0,void this.uploadImage().then(function(n){return t.$store.dispatch(t.submitAction,{entry:e,content:i,imageUrl:n})}).then(function(){t.$barrage(t.content),t.$refs.imageUploader.cleanFile(),t.content="",t.submitting=!1,t.$nextTick(function(){r.a.update(t.$refs.input)}),t.$emit("submitted")}).catch(function(e){t.submitting=!1,t.$error(e)})):void this.$alert("评论不能为空"):void this.$requestRegister()},uploadImage:function(){return this.$refs.imageUploader.file?this.$refs.imageUploader.upload():s.a.resolve()},listenerKeykown:function(t){var e={17:"ctrlKey",91:"metaKey",93:"metaKey",224:"metaKey",13:"enterKey"},i=e[t.keyCode];i&&(this[i]=!0)},listenerKeyup:function(t){this.ctrlKey=!1,this.metaKey=!1,this.enterKey=!1},quickSubmit:function(t){(this.metaKey||this.ctrlKey)&&this.enterKey&&this.submit()}},mounted:function(){r()(this.$refs.input)}}},1072:function(t,e,i){function n(t){i(1073)}var s=i(8)(i(1074),i(1075),n,"data-v-54e3f196",null);t.exports=s.exports},1073:function(t,e){},1074:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(114),s=["jpg","png"];e.default={data:function(){return{file:null,url:null}},methods:{showFileDialog:function(){this.$refs.input.click()},changeFile:function(t){this.file=t,window.URL.revokeObjectURL(this.url),this.url=t?window.URL.createObjectURL(t):null},cleanFile:function(){this.changeFile(null)},onActionBoxClick:function(){this.url?this.cleanFile():this.showFileDialog()},onFileSelected:function(t){var e=this;if(this.$refs.input.value=null,t)return this.isWithVaildSize(t)?void Object(n.a)(t,s).then(function(i){i?e.changeFile(t):e.$alert("不支持此格式的图片上传")}):void this.$alert("文件过大")},isWithVaildSize:function(t){return t.size<=1048576},upload:function(){return this.$getBean("uploadBusiness").uploadFile(this.file)}}}},1075:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"image-uploader"},[i("input",{ref:"input",staticClass:"input",attrs:{type:"file"},on:{change:function(e){t.onFileSelected(e.target.files[0])}}}),t.url?i("div",{staticClass:"preview-box"},[i("img",{staticClass:"preview",attrs:{src:t.url}}),i("button",{staticClass:"clean-btn",attrs:{title:"移除图片"},on:{click:t.cleanFile}},[i("i",{staticClass:"ion-close-circled"})])]):i("button",{staticClass:"upload-btn",on:{click:t.showFileDialog}},[i("i",{staticClass:"icon ion-image"}),i("span",[t._v("上传图片")])])])},staticRenderFns:[]}},1076:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"comment-form",class:{unauthorized:!t.user},on:{click:function(t){t.stopPropagation()},keyup:function(e){e.stopPropagation(),t.listenerKeyup(e)},keydown:t.listenerKeykown}},[t.user?[i("avatar",{staticClass:"avatar",attrs:{user:t.user,decorative:!0}}),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],ref:"input",staticClass:"content-input",attrs:{placeholder:t.displayedPlaceholder},domProps:{value:t.content},on:{focus:function(e){t.isActionBoxVisible=!0},keyup:t.quickSubmit,input:function(e){e.target.composing||(t.content=e.target.value)}}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isActionBoxVisible||t.vote,expression:"isActionBoxVisible || vote"}],staticClass:"action-box"},[i("image-uploader",{directives:[{name:"show",rawName:"v-show",value:t.vote,expression:"vote"}],ref:"imageUploader",staticClass:"image-uploader"}),i("div",{staticClass:"submit-box"},[i("span",{staticClass:"submit-text"},[t._v("Ctrl or ⌘ + Enter")]),i("button",{staticClass:"submit-btn",on:{click:t.submit}},[t._v("评论")])])],1),t.submitting?i("div",{staticClass:"submitting-mask"},[t._v("提交中...")]):t._e()]:[i("div",{staticClass:"unauthorized-panel"},[i("button",{staticClass:"authorize-btn",on:{click:function(e){t.$requestLogin()}}},[t._v("登录")]),i("div",{staticClass:"placeholder"},[t._v(t._s(t.displayedPlaceholder))])])]],2)},staticRenderFns:[]}},1077:function(t,e,i){function n(t){i(1078)}var s=i(8)(i(1079),i(1091),n,"data-v-746db1b2",null);t.exports=s.exports},1078:function(t,e){},1079:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),s=i.n(n),o=i(5),a=i.n(o),r=i(10),c=i(223),l=i(31),u=i(34),d=i(1080),m=i.n(d),h=i(1087),f=i.n(h),p=i(992),v=i.n(p),g=(i(29),function(){return{page:1,total:0,list:[],fetchLock:Object(c.a)(),replyLock:Object(c.a)(),replyForm:{content:"",comment:null},metaKey:!1,ctrlKey:!1,enterKey:!1}});e.default={components:{SubComment:m.a,Pagination:f.a},props:["parent","entry","type","removable","autoUnfold"],data:g,computed:{isMobile:function(){return Object(u.d)()},pageSize:function(){return this.isMobile?20:5},replyPlaceholder:function(){var t=((this.replyForm.comment||{}).user||{}).username,e="book"===this.type?"评论审核通过后显示":"输入评论";return t?"回复 "+t+" ：":e},shouldCancelReply:function(){return this.replyForm.comment&&!this.replyForm.content},canReply:function(){return!!this.replyForm.content.trim()},replyBtnTitle:function(){return this.shouldCancelReply?"取消":"评论"},totalPage:function(){return Math.max(Math.ceil(this.total/5),1)},startTime:function(){return this.list.length?this.list[this.list.length-1].createdAt:null},fetching:function(){return this.fetchLock.busy},empty:function(){return!this.list.length&&!this.fetching},commentBusiness:function(){switch(this.type){case"book":return this.$getBean("xiaoceCommentBusiness");case"repo":return this.$getBean("repoCommentBusiness");default:return this.$getBean("commentBusiness")}},replyAction:function(){switch(this.type){case"book":return r.REPLY_BOOK_COMMENT;case"repo":return r.REPLY_REPO_COMMENT;default:return r.REPLY_COMMENT}}},methods:{close:function(){this.$emit("close")},getTarUser:function(t){return t.replyCommentId!==this.parent.id?t.replyUser:null},prepareReply:function(t){this.$refs.replyInput.focus(),this.replyForm.content="",this.replyForm.comment=t},cancelReply:function(){this.replyForm.content="",this.replyForm.comment=null},listenerKeyup:function(t){this.ctrlKey=!1,this.metaKey=!1,this.enterKey=!1},listenerKeykown:function(t){var e={17:"ctrlKey",91:"metaKey",93:"metaKey",224:"metaKey",13:"enterKey"},i=e[t.keyCode];i&&(this[i]=!0)},reply:function(){var t=this,e={entry:this.entry,parent:this.parent,tar:this.replyForm.comment||this.parent,content:this.replyForm.content.trim()};this.replyLock.do(function(){return t.$ensureAuthorized().then(function(){return t.$store.dispatch(t.replyAction,e).then(function(){t.$barrage(t.replyForm.content),t.reset(),t.fetch(),t.$nextTick(function(){v.a.update(t.$refs.replyInput)})}).catch(function(e){t.$error(e)})}).catch(function(){})})},onReplyBtnClick:function(){this.shouldCancelReply?this.cancelReply():this.canReply&&this.reply()},remove:function(t){var e=this;this.$store.dispatch(r.DELETE_COMMENT,{parent:this.parent,entry:this.entry,comment:t}).then(function(){e.$alert("回复删除成功"),e.fetch()}).catch(function(t){e.$error(t)})},quickSubmit:function(){(this.metaKey||this.ctrlKey)&&this.enterKey&&this.reply()},fetch:function(){var t=this,e={commentId:this.parent.id,entryId:this.entry.id,page:this.page,pageSize:this.pageSize};if(!this.autoUnfold||"book"!==this.type)return this.fetchLock.do(function(){return t.commentBusiness.getSubCommentList(e).then(function(e){t.list=e.list,t.total=e.total})}).catch(function(e){t.$error(e)});this.$emit("update:auto-unfold",!1),this.list=this.commentBusiness.fromDescriptorSubComment(this.parent.topComment),this.total=this.parent.subCount},gotoPage:function(t){var e=this;this.page=t,this.fetch().then(function(){Object(l.k)(e.$refs.subCommentBox,-110)})},fetchMore:function(){var t=this;this.fetchLock.do(function(){return t.commentBusiness.getSubCommentList({commentId:t.parent.id,entryId:t.entry.id,page:t.page+1,pageSize:t.pageSize}).then(function(e){t.page=t.page+1,t.list=t.list.concat(e.list),t.total=e.total}).then(function(){return new a.a(function(t){return window.setTimeout(t,500)})})}).catch(function(e){t.$error(e)})},reset:function(){s()(this,g())}},mounted:function(){var t=this;if(v()(this.$refs.replyInput),Object(l.h)(this.$refs.subCommentBoxInner,function(e){e<50&&t.fetchMore()}),this.autoUnfold||this.$refs.replyInput.focus(),this.isMobile){var e=this.$getBean("eventBus");e.emit(e.eventType.LOCK_ROOT_CONTAINER_SCROLL)}this.fetch()},beforeDestroy:function(){if(this.isMobile){var t=this.$getBean("eventBus");t.emit(t.eventType.UNLOCK_ROOT_CONTAINER_SCROLL)}}}},1080:function(t,e,i){function n(t){i(1081)}var s=i(8)(i(1082),i(1086),n,"data-v-6fdfc18a",null);t.exports=s.exports},1081:function(t,e){},1082:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),s=i(222),o=i.n(s),a=i(971),r=i.n(a),c=i(985),l=i.n(c);e.default={components:{Avatar:o.a,UserPopover:r.a,ConfirmDialog:l.a},props:["comment","tarUser","removable"],data:function(){return{isShowAll:!1,isRemoveDialogVisible:!1}},computed:{date:function(){return Object(n.d)(this.comment.createdAt)},limitedContent:function(){return this.$getBean("commentBusiness").limitCommentContent(this.comment.content)},collapsed:function(){return this.limitedContent.length<this.comment.content.length&&!this.isShowAll}},methods:{reply:function(){this.$emit("reply")},remove:function(){this.isRemoveDialogVisible=!1,this.$emit("remove")}}}},1083:function(t,e){},1084:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["title","content","confirmText","cancelText"],methods:{cancel:function(){this.$emit("cancel")},confirm:function(){this.$emit("confirm")}}}},1085:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"confirm-dialog-box"},[i("div",{staticClass:"confirm-dialog"},[i("div",{staticClass:"dialog-header"},[i("div",{staticClass:"dialog-title"},[t._v(t._s(t.title))]),i("button",{staticClass:"close-btn ion-close-round",attrs:{title:"关闭"},on:{click:t.cancel}})]),i("div",{staticClass:"dialog-body"},[i("div",{staticClass:"content"},[t._v(t._s(t.content))])]),i("div",{staticClass:"dialog-footer"},[i("button",{staticClass:"ctrl-btn cancel-btn",on:{click:t.cancel}},[t._v(t._s(t.cancelText||"取消"))]),i("button",{staticClass:"ctrl-btn confirm-btn",on:{click:t.confirm}},[t._v(t._s(t.confirmText||"确定"))])])])])},staticRenderFns:[]}},1086:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sub-comment"},[i("user-popover",{staticClass:"user-popover--avatar",attrs:{userId:t.comment.user.id}},[i("avatar",{staticClass:"avatar",attrs:{user:t.comment.user,decorative:!0}})],1),i("div",{staticClass:"content-box"},[i("div",{staticClass:"header"},[i("div",{staticClass:"user-info"},[i("user-popover",{staticClass:"user-popover--info",attrs:{userId:t.comment.user.id}},[i("app-link",{staticClass:"username",attrs:{to:t.$userRoute(t.comment.user),blank:!0}},[t._v(t._s(t.comment.user.username))])],1),i("div",{staticClass:"position"},[t._v(t._s(t.$userPosition(t.comment.user)))])],1)]),i("div",{staticClass:"content"},[t.tarUser?i("span",{staticClass:"text-reply"},[t._v("回复"),i("app-link",{attrs:{to:t.$userRoute(t.tarUser),blank:!0}},[i("span",{staticClass:"username"},[t._v(t._s(t.tarUser.username))])]),t._v("：")],1):t._e(),t.collapsed?i("span",{staticClass:"content-html collapsed"},[t._v(t._s(t.limitedContent))]):i("span",{directives:[{name:"parse-url",rawName:"v-parse-url",value:t.comment.content,expression:"comment.content"}],staticClass:"content-html"}),t.collapsed?i("span",{staticClass:"show-all",on:{click:function(e){t.isShowAll=!0}}},[t._v("展开全部")]):t._e()]),i("div",{staticClass:"footer"},[i("span",{staticClass:"date"},[t._v(t._s(t.date))]),i("a",{staticClass:"reply-btn",on:{click:t.reply}},[t._v("回复")]),t.removable?i("button",{staticClass:"remove-btn hidden",on:{click:function(e){t.isRemoveDialogVisible=!0}}},[t._v("删除")]):t._e()])]),t.isRemoveDialogVisible?i("confirm-dialog",{attrs:{title:"确认要删除这条回复吗？",content:""},on:{confirm:t.remove,cancel:function(e){t.isRemoveDialogVisible=!1}}}):t._e()],1)},staticRenderFns:[]}},1087:function(t,e,i){function n(t){i(1088)}var s=i(8)(i(1089),i(1090),n,"data-v-2c38f2aa",null);t.exports=s.exports},1088:function(t,e){},1089:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(159),s=i.n(n),o=i(75);e.default={props:["current","total"],computed:{canPrev:function(){return this.current>1},canNext:function(){return this.current<this.total},list:function(){var t=this.current,e=this.total;return e<=6?Object(o.a)(1,e):t<=4?[].concat(s()(Object(o.a)(1,4)),[!1,e]):t>=e-4?[1,!1].concat(s()(Object(o.a)(e-4,e))):[1,!1,t,t+1,!1,e]}},methods:{prev:function(){this.update(this.current-1)},next:function(){this.update(this.current+1)},update:function(t){this.$emit("update",t)},onItemClick:function(t){t&&this.update(t)}}}},1090:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"pagination"},[t.canPrev?i("li",{staticClass:"item",on:{click:t.prev}},[t._v("上一页")]):t._e(),t._l(t.list,function(e){return i("li",{staticClass:"item",class:{ellipsis:!e,current:e==t.current},on:{click:function(i){t.onItemClick(e)}}},[t._v(t._s(e||"..."))])}),t.canNext?i("li",{staticClass:"item",on:{click:t.next}},[t._v("下一页")]):t._e()],2)},staticRenderFns:[]}},1091:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"subCommentBox",staticClass:"sub-comment-box",class:{"sub-comment-box__m":t.isMobile}},[i("div",{staticClass:"sub-comment-box__top"},[i("div",{staticClass:"icon-close",on:{click:t.close}}),i("h3",[t._v("评论")])]),i("div",{ref:"subCommentBoxInner",staticClass:"sub-comment-box__inner"},[t.empty?i("div",{staticClass:"empty-comment"},[t._m(0)]):i("div",[i("ul",{staticClass:"sub-comment-list"},t._l(t.list,function(e){return i("li",{key:e.id,staticClass:"item"},[i("sub-comment",{staticClass:"sub-comment",class:{"sub-comment__m":t.isMobile},attrs:{comment:e,tarUser:t.getTarUser(e),removable:t.removable},on:{reply:function(i){t.prepareReply(e)},remove:function(i){t.remove(e)}}})],1)})),t.totalPage>1?i("pagination",{staticClass:"pagination",attrs:{total:t.totalPage,current:t.page},on:{update:t.gotoPage}}):t._e()],1),i("form",{staticClass:"reply-form",on:{submit:function(t){t.preventDefault()},keyup:function(e){e.stopPropagation(),t.listenerKeyup(e)},keydown:t.listenerKeykown}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.replyForm.content,expression:"replyForm.content"}],ref:"replyInput",attrs:{rows:"1",maxlength:"1024",placeholder:t.replyPlaceholder},domProps:{value:t.replyForm.content},on:{keyup:t.quickSubmit,input:function(e){e.target.composing||t.$set(t.replyForm,"content",e.target.value)}}}),i("button",{staticClass:"reply-btn",on:{click:t.onReplyBtnClick}},[t._v(t._s(t.replyBtnTitle))])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dl",[n("dt",[n("img",{attrs:{src:i(1092)}})]),n("dd",[t._v("暂无评论")])])}]}},1092:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+MTEyODdEMEYtNDY1MS00ODkzLUI5MTUtNDY0OTYyRDMwRDk5PC90aXRsZT48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0wIDBoNjB2NjBIMHoiLz48cGF0aCBkPSJNMTEgMzl2NS41bDcuMDcxLTUuNWgyMC45MjJBMyAzIDAgMCAwIDQyIDM2LjAwNlYxMi45OTRBMyAzIDAgMCAwIDM4Ljk5MyAxMEg5LjAwN0EzIDMgMCAwIDAgNiAxMi45OTR2MjMuMDEyQTMgMyAwIDAgMCA5LjAwNyAzOUgxMXoiIGZpbGw9IiNGMkY0RjUiLz48cGF0aCBkPSJNNTAgNDV2NS41TDQyLjkyOSA0NUgyMi4wMDdBMyAzIDAgMCAxIDE5IDQyLjAwNlYxOC45OTRBMyAzIDAgMCAxIDIyLjAwNyAxNmgyOS45ODZBMyAzIDAgMCAxIDU1IDE4Ljk5NHYyMy4wMTJBMyAzIDAgMCAxIDUxLjk5MyA0NUg1MHoiIGZpbGw9IiNEQ0RERTAiLz48cGF0aCBkPSJNNDYuNDkxIDI4SDI3LjUxQTEuNTA0IDEuNTA0IDAgMCAxIDI2IDI2LjVjMC0uODI5LjY3NS0xLjUgMS41MDktMS41SDQ2LjQ5Yy44MzQgMCAxLjUwOS42NzEgMS41MDkgMS41cy0uNjc1IDEuNS0xLjUwOSAxLjVNMjcuNTA5IDM2QTEuNTA0IDEuNTA0IDAgMCAxIDI2IDM0LjVjMC0uODI5LjY3NS0xLjUgMS41MDktMS41SDQwLjQ5Yy44MzQgMCAxLjUwOS42NzEgMS41MDkgMS41cy0uNjc1IDEuNS0xLjUwOSAxLjVIMjcuNTF6IiBmaWxsPSIjRjJGNEY2Ii8+PC9nPjwvc3ZnPg=="},1093:function(t,e,i){function n(t){i(1292)}var s=i(8)(i(1293),i(1294),n,"data-v-1cbbd4f0",null);t.exports=s.exports},1097:function(t,e,i){function n(t){i(1098)}var s=i(8)(i(1099),i(1104),n,"data-v-17a8ac96",null);t.exports=s.exports},1098:function(t,e){},1099:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1100),s=i.n(n),o=i(1060),a=i.n(o);e.default={data:function(){return{newUserTicket:{}}},props:["place","category"],components:{BooksDefault:s.a,BooksNewUser:a.a},computed:{canVisibleNewuser:function(){var t=null;return this.$isServer||(t=window.sessionStorage.getItem("LOGIN_OBTAIN_NEWUSER_TICKET")),!t&&this.newUserTicket.isNewUser},componentName:function(){return this.canVisibleNewuser?"books-new-user":"books-default"}},methods:{getNewUserTicket:function(){var t=this;this.$getBean("xiaoceBusiness").getNewUserTicketDetail().then(function(e){t.newUserTicket=e})}},mounted:function(){this.getNewUserTicket()}}},1100:function(t,e,i){function n(t){i(1101)}var s=i(8)(i(1102),i(1103),n,"data-v-3b78d59f",null);t.exports=s.exports},1101:function(t,e){},1102:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(115),s=i(970),o=i.n(s),a=i(983),r=i.n(a),c=i(973);e.default={components:{Thumb:o.a,SidebarBlock:r.a},props:["place","category"],data:function(){return{disabledBookId:c.c,fetched:!1,recommendData:{category:"",data:[]}}},computed:{categoryTitle:function(){var t="你可能感兴趣的小册";if("timeline"!==this.place){var e=n.a[this.recommendData.category];t=e&&"阅读"!==e?e+"系列小册推荐":t}return t}},watch:{category:function(t){var e=t;this.getBooks(e)}},methods:{toBookInfo:function(t){this.$router.push({name:"bookInfo",params:{id:t}})},tryRead:function(t){this.$router.push({name:"bookSection",params:{id:t}})},getBooks:function(t){var e=this;this.fetched||(this.fetched=!0,this.$getBean("xiaoceBusiness").getRecommendBooks({category:t}).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.data,n=t.category;e.recommendData={data:i.filter(function(t){return t._id!==c.c}),category:n}}))}},mounted:function(){this.category&&this.getBooks(this.category)},beforeDestroy:function(){}}},1103:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.recommendData.data.length?i("sidebar-block",{staticClass:"recommend recommend-index",attrs:{title:t.categoryTitle}},[i("div",{staticClass:"book-list"},t._l(t.recommendData.data,function(e){return i("div",{staticClass:"book",on:{click:function(i){t.toBookInfo(e._id)}}},[i("div",{staticClass:"poster"},[i("thumb",{staticClass:"poster-img",attrs:{alt:"小册封面图",url:e.img,quality:95,width:200,height:280}})],1),i("div",{staticClass:"info"},[i("div",{staticClass:"title"},[t._v(t._s(e.title))]),i("div",{staticClass:"bought"},[i("span",{staticClass:"num"},[t._v(t._s(e.buyCount)+"人已购买")]),i("span",{staticClass:"try-read",on:{click:function(i){i.stopPropagation(),i.preventDefault(),t.tryRead(e._id)}}},[t._v("试读")])])])])}))]):t._e()},staticRenderFns:[]}},1104:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)(t.componentName,{tag:"component",attrs:{place:t.place,category:t.category}})},staticRenderFns:[]}},1105:function(t,e,i){/**
 * juejin-lazyload v0.1.5
 * (c) 2017 WEBuster <webuster@xitu.io>
 * @license MIT
 */
!function(e,i){t.exports=i()}(0,function(){"use strict";function t(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.addEventListener(e,i,n),function(){t.removeEventListener(e,i,n)}}!function(){function t(t){this.value=t}function e(e){function i(s,o){try{var a=e[s](o),r=a.value;r instanceof t?Promise.resolve(r.value).then(function(t){i("next",t)},function(t){i("throw",t)}):n(a.done?"return":"normal",a.value)}catch(t){n("throw",t)}}function n(t,e){switch(t){case"return":s.resolve({value:e,done:!0});break;case"throw":s.reject(e);break;default:s.resolve({value:e,done:!1})}(s=s.next)?i(s.key,s.arg):o=null}var s,o;this._invoke=function(t,e){return new Promise(function(n,a){var r={key:t,arg:e,resolve:n,reject:a,next:null};o?o=o.next=r:(s=o=r,i(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}();var e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s={threshold:0,interval:200,debounce:!1,reactive:!0,eagerShowing:!1,infoGetter:null,visibleAreaGetter:null,onStateChange:null},o="__JUEJIN_LAZYLOAD";return function(){function a(t,i){e(this,a),this.setOptions(i),this.addOrUpdateElement(t),this.initEventListener()}return i(a,[{key:"setOptions",value:function(t){this.options=n({},s,t)}},{key:"initEventListener",value:function(){var e=this;if(this.options.reactive){var i=this.options.debounce?function(t,e){var i=0;return function(){for(var n=this,s=arguments.length,o=Array(s),a=0;a<s;a++)o[a]=arguments[a];clearTimeout(i),i=setTimeout(function(){return t.apply(n,o)},e)}}(function(){return e.updateState()},this.options.interval):function(t,e){var i=0;return e/=2,function(){for(var n=arguments.length,s=Array(n),o=0;o<n;o++)s[o]=arguments[o];Date.now()-i>=e&&(i=Date.now(),setTimeout(function(){t.apply(null,s)},e))}}(function(){return e.updateState()},this.options.interval);this.removeScrollEventListener=t(window,"scroll",i),this.removeResizeEventListener=t(window,"resize",i)}}},{key:"removeEventListener",value:function(){this.removeScrollEventListener&&this.removeScrollEventListener(),this.removeResizeEventListener&&this.removeResizeEventListener()}},{key:"addOrUpdateElement",value:function(t){var e=this.getElementList(t),i=e.filter(function(t){return!t[o]});this.elementList=(this.elementList||[]).concat(i),e.forEach(this.initElement.bind(this)),this.updateState()}},{key:"removeElement",value:function(t){var e=this.getElementList(t);this.elementList=this.elementList.filter(function(t){return-1===e.indexOf(t)}),e.forEach(this.removeInfo.bind(this))}},{key:"clean",value:function(){this.elementList.forEach(this.removeInfo.bind(this)),this.elementList=[]}},{key:"getElementList",value:function(t){return t?"string"==typeof t?[].slice.call(document.querySelectorAll(t)):"number"==typeof t.length?[].slice.call(t):[t]:[]}},{key:"initElement",value:function(t){this.attachInfo(t),this.setPlaceholder(t),this.updateElementClassByState("inited",t),this.invokeStateHook("inited",t)}},{key:"attachInfo",value:function(t){var e=this.options.infoGetter&&this.options.infoGetter(t),i=n({},e,{loading:!1});t[o]=i}},{key:"setPlaceholder",value:function(t){var e=t[o];"IMG"===t.nodeName&&e.width&&e.height&&(t.src=function(t,e){return["data:image/svg+xml;utf8,",'<?xml version="1.0"?>','<svg xmlns="http://www.w3.org/2000/svg" version="1.1" ','width="'+t+'" height="'+e+'"',"></svg>"].join("")}(e.width,e.height))}},{key:"removeInfo",value:function(t){t[o]&&(t[o]=null)}},{key:"updateState",value:function(){var t=this;if(this.elementList.length){var e=this.getActiveArea();this.elementList.forEach(function(i){var n=i[o].loading,s=i.getBoundingClientRect(),a=function(t,e){return!(e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}(e,s);!n&&a&&t.loadIamge(i)})}}},{key:"getActiveArea",value:function(){var t=this.getVisibleArea(),e=this.options.threshold||0;return{top:t.top-e,left:t.left-e,right:t.right+e,bottom:t.bottom+e}}},{key:"getVisibleArea",value:function(){if(this.options.visibleAreaGetter)return this.options.visibleAreaGetter();var t=function(){var t=document.documentElement;return{width:Math.max(t.clientWidth,window.innerWidth||0),height:Math.max(t.clientHeight,window.innerHeight||0)}}();return{top:0,left:0,right:t.width,bottom:t.height}}},{key:"loadIamge",value:function(t){var e=this,i=t[o],n=i.url;i.loading=!0,this.updateElementClassByState("loading",t),this.invokeStateHook("loading",t),function(t,e){var i=e.onStart,n=e.onLoaded,s=e.onError,o=new Image;o.onload=function(){n&&n(t,o)},o.onerror=function(){s&&s(t,o)},o.src=t,i&&i(t,o)}(n,{onStart:function(i,n){e.options.eagerShowing&&e.onMetaLoaded(n,function(){t.removeAttribute("src"),t.setAttribute("src",i)})},onLoaded:function(){e.setElementWithImageUrl(n,t),e.updateElementClassByState("loaded",t),e.invokeStateHook("loaded",t),e.removeElement(t)},onError:function(){e.updateElementClassByState("error",t),e.invokeStateHook("error",t),e.removeElement(t)}})}},{key:"updateElementClassByState",value:function(t,e){switch(t){case"inited":e.classList.add("inited"),e.classList.remove("loading"),e.classList.remove("loaded"),e.classList.remove("error");break;case"loading":e.classList.add("loading");break;case"loaded":e.classList.remove("loading"),e.classList.add("loaded");break;case"error":e.classList.remove("loading"),e.classList.add("error")}}},{key:"invokeStateHook",value:function(t,e){if(this.options.onStateChange){var i=e[o].url;this.options.onStateChange(t,i,e,this)}}},{key:"setElementWithImageUrl",value:function(t,e){"IMG"===e.nodeName?e.src=t:e.style.backgroundImage="url("+t+")"}},{key:"onMetaLoaded",value:function(e,i){var n=setInterval(function(){e.naturalWidth&&(s(),i())},300),s=function(){return clearInterval(n)};t(e,"load",s),t(e,"error",s)}},{key:"destroy",value:function(){this.removeEventListener(),this.clean(),this.setOptions({})}}]),a}()})},1106:function(t,e,i){function n(t){i(1107)}var s=i(8)(i(1108),i(1113),n,"data-v-51163f89",null);t.exports=s.exports},1107:function(t,e){},1108:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(95),s=i.n(n),o=i(10),a=i(58),r=i(31),c=i(1109),l=i.n(c);e.default={components:{Comment:l.a},props:["list","entry","type","loading","manual"],computed:s()({},Object(a.mapGetters)({user:o.USER}),{removable:function(){return(!this.type||"entry"===this.type)&&this.user&&this.entry&&this.entry.user&&this.user.id===this.entry.user.id}}),methods:{fetchMoreIfConditionIsSatisfied:function(){if(!this.manual){Object(r.b)(this.$refs.list)>-200&&this.fetchMore()}},fetchMore:function(){return this.$emit("should-fetch-more")},remove:function(t){var e=this;this.$store.dispatch(o.DELETE_COMMENT,{entry:this.entry,comment:t}).then(function(){e.$alert("评论删除成功")}).catch(function(t){e.$error(t)})}},mounted:function(){var t=this,e=this.$getBean("eventBus");e.onVmLife(this,e.eventType.ROOT_CONTAINER_SCROLL,function(){t.fetchMoreIfConditionIsSatisfied()}),Object(r.f)(this.$refs.list,function(){t.fetchMoreIfConditionIsSatisfied()})}}},1109:function(t,e,i){function n(t){i(1110)}var s=i(8)(i(1111),i(1112),n,"data-v-7f6a837b",null);t.exports=s.exports},1110:function(t,e){},1111:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(10),s=(i(58),i(19)),o=i(116),a=i(223),r=i(34),c=i(222),l=i.n(c),u=i(971),d=i.n(u),m=i(1077),h=i.n(m),f=i(985),p=i.n(f);e.default={components:{Avatar:l.a,UserPopover:d.a,SubCommentBox:h.a,ConfirmDialog:p.a},props:["comment","entry","type","removable"],data:function(){return{isShowAll:!1,isSubCommentBoxActive:!1,autoUnfold:!1,isRemoveDialogVisible:!1,likeLock:Object(a.a)()}},computed:{isMobile:function(){return Object(r.d)()},date:function(){return Object(s.d)(this.comment.createdAt)},displayedLikeCount:function(){return Object(o.a)(this.comment.likesCount)},replyPlaceholder:function(){return"对 "+this.comment.user.username+" 的回复"},toggleSubCommentBtnTitle:function(){var t=this.comment.subCount;return this.isSubCommentBoxActive?"收起评论":t?this.comment.subCount+"条评论":"评论"},limitedContent:function(){return this.$getBean("commentBusiness").limitCommentContent(this.comment.content)},collapsed:function(){return this.limitedContent.length<this.comment.content.length&&!this.isShowAll},toggleLikeAction:function(){switch(this.type){case"book":return n.TOGGLE_LIKE_BOOK_COMMENT;case"repo":return n.TOGGLE_LIKE_REPO_COMMENT;default:return n.TOGGLE_LIKE_COMMENT}}},methods:{updateAutoUnfold:function(t){this.autoUnfold=t},toggleLike:function(){var t=this;this.likeLock.do(function(){return t.$ensureAuthorized().then(function(){return t.$store.dispatch(t.toggleLikeAction,{comment:t.comment,entry:t.entry}).catch(function(e){t.$error(e)})}).catch(function(){})})},toggleSubCommentBox:function(){this.isSubCommentBoxActive=!this.isSubCommentBoxActive},remove:function(){this.isRemoveDialogVisible=!1,this.$emit("remove")}},mounted:function(){"book"===this.type&&this.comment.subCount>0&&!this.isMobile&&(this.autoUnfold=!0,this.isSubCommentBoxActive=!0),this.comment.createdAt=this.comment.createdAt}}},1112:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"comment"},[i("user-popover",{attrs:{userId:t.comment.user.id}},[i("app-link",{attrs:{to:t.$userRoute(t.comment.user),blank:!0}},[i("avatar",{staticClass:"avatar",attrs:{user:t.comment.user,decorative:!0}})],1)],1),i("div",{staticClass:"content-box"},[i("div",{staticClass:"header"},[i("div",{staticClass:"user-info"},[i("user-popover",{attrs:{userId:t.comment.user.id}},[i("app-link",{staticClass:"username",attrs:{to:t.$userRoute(t.comment.user),blank:!0}},[t._v(t._s(t.comment.user.username))])],1),i("div",{staticClass:"position"},[t._v(t._s(t.$userPosition(t.comment.user)))])],1)]),i("div",{staticClass:"content"},[t.comment.reply?i("span",[t._v("回复"),i("router-link",{attrs:{to:t.$userRoute(t.comment.reply.user)}},[i("span",{staticClass:"username"},[t._v(t._s(t.comment.reply.user.username))])]),t._v("：")],1):t._e(),t.collapsed?i("span",{staticClass:"content-html collapsed"},[t._v(t._s(t.limitedContent))]):i("span",{directives:[{name:"parse-url",rawName:"v-parse-url",value:t.comment.content,expression:"comment.content"}],staticClass:"content-html"}),t.collapsed?i("span",{staticClass:"show-all",on:{click:function(e){t.isShowAll=!0}}},[t._v("展开全部")]):t._e()]),i("div",{staticClass:"footer"},[i("button",{staticClass:"like-btn",class:{liked:t.comment.liked},on:{click:t.toggleLike}},[i("i",{staticClass:"collection-arrow-ion ion-arrow-up-b"}),i("span",[t._v(t._s(t.displayedLikeCount))])]),i("span",{staticClass:"sub-comment-btn text-pointer",on:{click:t.toggleSubCommentBox}},[i("span",{staticClass:"title"},[t._v(t._s(t.toggleSubCommentBtnTitle))]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isSubCommentBoxActive,expression:"isSubCommentBoxActive"}],staticClass:"sub-comment--arrow"})]),i("span",{staticClass:"date"},[t._v(t._s(t.date))]),t.removable?i("button",{staticClass:"remove-btn hidden",on:{click:function(e){t.isRemoveDialogVisible=!0}}},[t._v("删除")]):t._e()]),t.isSubCommentBoxActive?i("sub-comment-box",{staticClass:"sub-comment-box",attrs:{parent:t.comment,entry:t.entry,type:t.type,removable:t.removable,"auto-unfold":t.autoUnfold},on:{"update:auto-unfold":t.updateAutoUnfold,close:function(e){t.isSubCommentBoxActive=!1}}}):t._e()],1),t.isRemoveDialogVisible?i("confirm-dialog",{attrs:{title:"你确定要删除这条评论吗？",content:"删除评论后，评论下的所有回复都会被删除"},on:{confirm:t.remove,cancel:function(e){t.isRemoveDialogVisible=!1}}}):t._e()],1)},staticRenderFns:[]}},1113:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{ref:"list",staticClass:"comment-list",attrs:{"st:block":"commentList"}},[t._l(t.list,function(e){return i("li",{key:e.id,staticClass:"item"},[i("comment",{attrs:{comment:e,entry:t.entry,type:t.type,removable:t.removable},on:{remove:function(i){t.remove(e)}}})],1)}),t.manual?i("li",{staticClass:"more"},[i("div",{staticClass:"more-btn",class:{loading:t.loading},on:{click:t.fetchMore}},[t._v(t._s(t.loading?"加载中...":"展开全部"))])]):t._e()],2)},staticRenderFns:[]}},1114:function(t,e,i){function n(t){i(1115)}var s=i(8)(i(1116),i(1117),n,"data-v-e1024e9a",null);t.exports=s.exports},1115:function(t,e){},1116:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["type","id"],data:function(){return{canOpenInApp:!1}},computed:{buttonText:function(){return this.canOpenInApp?"应用内打开":"立即下载"},openInAppBusiness:function(){return this.$getBean("openInAppBusiness")}},methods:{onClick:function(){this.canOpenInApp?this.openInApp():this.downloadApp()},openInApp:function(){this.openInAppBusiness.openInApp(this.type,this.id)},downloadApp:function(){this.openInAppBusiness.openAppDownloadPage()}},mounted:function(){this.canOpenInApp=this.openInAppBusiness.canOpenInApp()}}},1117:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{directives:[{name:"show",rawName:"v-show",value:t.canOpenInApp,expression:"canOpenInApp"}],staticClass:"open-in-app",attrs:{"st:name":"openInAppBtn"},on:{click:t.openInApp}},[t._v(t._s(t.buttonText))])},staticRenderFns:[]}},1120:function(t,e,i){function n(t){i(1269)}var s=i(8)(i(1270),i(1287),n,"data-v-a0f279e6",null);t.exports=s.exports},1164:function(t,e,i){"use strict";function n(t,e){t=t||{},e=e||t.parsedContent;var i=t.title||"",n=s(e)||t.content;return{title:i,keywords:o((t.tags||[]).map(function(t){return t.title})),description:a(n)}}function s(t){return(t||"").replace(/<.*?>/g,"")}function o(t){return t=t||[],t.join(",").replace(/[\r\n\s]+/g," ")}function a(t){return t=(t||"").trim().slice(0,130),t.replace(/[\r\n\s]+/g," ")}e.a=n,e.c=o,e.b=a;i(230)},1266:function(t,e,i){function n(t){i(1267)}var s=i(8)(i(1268),i(1288),n,"data-v-1988842d",null);t.exports=s.exports},1267:function(t,e){},1268:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1120),s=i.n(n),o=i(983),a=i.n(o);e.default={components:{WechatBanner:s.a,SidebarBlock:a.a},props:["category","closeable"],data:function(){return{visible:!1}},methods:{close:function(){window.localStorage.setItem("HIDE_WECHAT_SIDEBAR_BLOCK",!0),this.visible=!1}},mounted:function(){this.closeable?this.visible=!window.localStorage.getItem("HIDE_WECHAT_SIDEBAR_BLOCK"):this.visible=!0}}},1269:function(t,e){},1270:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={default:[i(1271),i(1272)],frontend:[i(1273),i(1274)],backend:[i(1275),i(1276)],android:[i(1277),i(1278)],ios:[i(1279),i(1280)],ai:[i(1281),i(1282)],flutter:[i(1283),i(1284)],devops:[i(1285),i(1286)]};e.default={props:["category","square"],computed:{imageUrl:function(){return(n[this.category]||n.default)[this.square?1:0]}}}},1271:function(t,e,i){t.exports=i.p+"static/img/default.73b4737.png"},1272:function(t,e,i){t.exports=i.p+"static/img/default.1fb7a71.png"},1273:function(t,e,i){t.exports=i.p+"static/img/frontend.36d7923.png"},1274:function(t,e,i){t.exports=i.p+"static/img/frontend.1dae74a.png"},1275:function(t,e,i){t.exports=i.p+"static/img/backend.58ef824.png"},1276:function(t,e,i){t.exports=i.p+"static/img/backend.ba44b94.png"},1277:function(t,e,i){t.exports=i.p+"static/img/android.adc945b.png"},1278:function(t,e,i){t.exports=i.p+"static/img/android.fef4da1.png"},1279:function(t,e,i){t.exports=i.p+"static/img/ios.f827b0c.png"},1280:function(t,e,i){t.exports=i.p+"static/img/ios.c0a0c8c.png"},1281:function(t,e,i){t.exports=i.p+"static/img/ai.9fab33c.png"},1282:function(t,e,i){t.exports=i.p+"static/img/ai.ecada1f.png"},1283:function(t,e,i){t.exports=i.p+"static/img/flutter.168df7b.png"},1284:function(t,e,i){t.exports=i.p+"static/img/flutter.851314d.png"},1285:function(t,e,i){t.exports=i.p+"static/img/devops.ea48c57.png"},1286:function(t,e,i){t.exports=i.p+"static/img/devops.6b1a320.png"},1287:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wechat-banner"},[i("img",{staticClass:"wechat-img",attrs:{src:t.imageUrl}})])},staticRenderFns:[]}},1288:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visible?i("sidebar-block",{staticClass:"wechat-sidebar-block",attrs:{pure:!0}},[i("wechat-banner",{attrs:{category:t.category,square:!0}}),t.closeable?i("div",{staticClass:"close-btn ion-close-round",attrs:{title:"关闭"},on:{click:t.close}}):t._e()],1):t._e()},staticRenderFns:[]}},1289:function(t,e,i){function n(t){i(1290)}var s=i(8)(i(1291),i(1311),n,"data-v-4f97d566",null);t.exports=s.exports},1290:function(t,e){},1291:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(i(31),i(1093)),s=i.n(n),o=i(1295),a=i.n(o);i(34);e.default={components:{CommentForm:s.a,CommentList:a.a},props:["entry","expanded","sticky","list","loading","canFetchMore"],data:function(){return{}},computed:{fetchMoreTitle:function(){return this.loading?"加载中...":"查看更多 >"}},methods:{onSubmitted:function(){this.$emit("submitted")},fetchMore:function(){this.$emit("should-fetch-more")}}}},1292:function(t,e){},1293:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),s=i.n(n),o=i(10),a=(i(31),i(228)),r=i(229),c=i.n(r),l=i(222),u=i.n(l),d=i(118),m=(i.n(d),i(117)),h=i(163),f=i(114),p=["jpg","png","gif"];e.default={components:{Avatar:u.a,Emoji:c.a},props:["entry","comment","parent","autoFocus","placeholder"],data:function(){return{emojis:a.a,active:!1,focused:!1,submitting:!1,content:"",imageFile:null,imagePreviewUrl:"",emoji:""}},computed:{me:function(){return this.$store.getters.USER},empty:function(){return!this.content.length},canSubmit:function(){return this.content.length&&!this.submitting},isActionBoxVisible:function(){return(this.focused||!this.empty||this.imageFile)&&this.me},submitButtonTitle:function(){return this.submitting?"提交中...":"评论"},commentAction:function(){switch(this.type){case"book":return o.SUBMIT_BOOK_COMMENT;case"repo":return o.SUBMIT_REPO_COMMENT;default:return o.SUBMIT_COMMENT}},replyAction:function(){switch(this.type){case"book":return o.REPLY_BOOK_COMMENT;case"repo":return o.REPLY_REPO_COMMENT;default:return o.REPLY_COMMENT}}},watch:{focused:function(t){t&&!this.me&&this.$requestLogin(),t||!this.empty||this.imageFile||this.$emit("emptyBlur")},imageFile:function(){Object(m.d)(this.$refs.richInput)}},methods:{onFocus:function(){this.focused=!0},onOuterClick:function(){this.empty&&(this.focused=!1)},onFormBoxClick:function(t){var e=t.target,i=this.$refs.richInput;i.focus(),i.contains(e)||Object(m.d)(i)},onInput:function(){this.focused=!0,this.content=this.emojiToText(this.$refs.richInput.innerHTML),this.content=Object(m.a)(this.content)},onPaste:function(t){Object(m.b)(t)},onKeydown:function(t){var e=this;if(this.content.length&&!this.submitting)return Object(h.a)(t,function(){return e.submit()})},cleanContent:function(){this.$refs.richInput.innerHTML="<br/>",this.content=""},updateEmoji:function(t){this.emoji=t;var e=this.$refs.richInput;t=Object(d.emojiToImage)(t);var i=document.queryCommandSupported("InsertHTML");this.content.length||e.focus(),i&&document.execCommand("insertHTML",!1,t),this.onInput()},showFileDialog:function(){this.$refs.input.click()},changeFile:function(t){this.imageFile=t,window.URL.revokeObjectURL(this.imagePreviewUrl),this.imagePreviewUrl=t?window.URL.createObjectURL(t):""},cleanFile:function(){this.changeFile(null)},onFileSelected:function(t){var e=this;if(this.$refs.input.value=null,t)return this.isWithVaildSize(t)?void Object(f.a)(t,p).then(function(i){i?e.changeFile(t):e.$error("不支持此格式的图片")}):void this.$error("文件过大")},isWithVaildSize:function(t){return t.size<=5242880},uploadFile:function(){return this.imageFile?this.$getBean("uploadBusiness").uploadFile(this.imageFile):s.a.resolve()},submit:function(){var t=this;return this.submitting=!0,this.uploadFile().then(function(e){return t.createSubmitTask(e)}).then(function(){t.submitting=!1,t.$barrage(t.content.trim()),t.$emit("submitted"),t.reset()}).catch(function(e){t.submitting=!1,t.$error(e)})},createSubmitTask:function(t){var e=this.entry,i=this.content.trim();return this.comment?this.$store.dispatch(this.replyAction,{entry:e,parent:this.parent||this.comment,tar:this.comment||this.parent,content:i,imageUrl:t}):this.$store.dispatch(this.commentAction,{entry:e,content:i,imageUrl:t})},reset:function(){this.cleanFile(),this.cleanContent()},emojiToText:function(t){return t.replace(/<img.*?alt=".*?/g,"").replace(/".?src=.*?>/g,"")}},mounted:function(){var t=this;this.autoFocus&&this.$nextTick(function(){t.$refs.richInput.focus()})}}},1294:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"outer-click",rawName:"v-outer-click",value:function(){return t.onOuterClick()},expression:"() => onOuterClick()"}],staticClass:"comment-form",class:{focused:t.focused,reply:!!t.comment,"sub-reply":!!t.parent}},[i("div",{staticClass:"avatar-box"},[i("avatar",{staticClass:"avatar",attrs:{user:t.me}})],1),i("div",{staticClass:"form-box",class:{disabled:t.submitting},on:{click:t.onFormBoxClick}},[i("div",{staticClass:"input-box"},[i("div",{ref:"richInput",staticClass:"rich-input",class:{empty:t.empty},attrs:{contenteditable:"true",spellcheck:"false",placeholder:t.placeholder||"输入评论..."},on:{focus:t.onFocus,input:t.onInput,paste:t.onPaste,keydown:t.onKeydown}},[i("br")]),t.imagePreviewUrl?i("div",{staticClass:"image-preview-box"},[i("div",{staticClass:"image-preview",style:{backgroundImage:"url("+t.imagePreviewUrl+")"}}),i("div",{staticClass:"clean-btn",on:{click:t.cleanFile}},[i("svg",{staticClass:"icon close-icon",attrs:{"aria-hidden":"true",width:"14",height:"14",viewBox:"0 0 21 21"}},[i("g",{attrs:{fill:"none","fill-rule":"evenodd",transform:"translate(1 1)"}},[i("circle",{attrs:{cx:"9.5",cy:"9.5",r:"9.5",fill:"#000",stroke:"#FFF",opacity:".5"}}),t._v(" "),i("path",{attrs:{fill:"#FFF",d:"M13.743 5.964L10.207 9.5l3.536 3.536-.707.707L9.5 10.207l-3.536 3.536-.707-.707L8.793 9.5 5.257 5.964l.707-.707L9.5 8.793l3.536-3.536z"}})])])])]):t._e()]),t.isActionBoxVisible?i("div",{staticClass:"action-box"},[i("emoji",{staticClass:"emoji-btn",attrs:{emoji:t.emojis},on:{selectEmoji:t.updateEmoji}}),i("div",{staticClass:"submit"},[i("span",[t._v("Ctrl or ⌘ + Enter")]),i("button",{staticClass:"submit-btn",attrs:{disabled:!t.canSubmit},on:{click:t.submit}},[t._v(t._s(t.submitButtonTitle))])])],1):t._e()]),i("input",{ref:"input",staticClass:"hidden",attrs:{type:"file"},on:{change:function(e){t.onFileSelected(e.target.files[0])}}})])},staticRenderFns:[]}},1295:function(t,e,i){function n(t){i(1296)}var s=i(8)(i(1297),i(1310),n,"data-v-8ac22788",null);t.exports=s.exports},1296:function(t,e){},1297:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(226),s=i.n(n),o=i(1298),a=i.n(o);e.default={components:{ImageViewer:s.a,Comment:a.a},props:["list","entry","expanded"],methods:{initImageViewer:function(){this.$refs.imageViewer.attachContainer(this.$el)},refetch:function(){this.$emit("refetch")}},mounted:function(){this.initImageViewer()}}},1298:function(t,e,i){function n(t){i(1299)}var s=i(8)(i(1300),i(1309),n,"data-v-66979eae",null);t.exports=s.exports},1299:function(t,e){},1300:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(95),s=i.n(n),o=i(10),a=i(58),r=i(223),c=i(160),l=i(222),u=i.n(l),d=i(970),m=i.n(d),h=i(1093),f=i.n(h),p=i(1301),v=i.n(p),g=i(971),C=i.n(g),M=i(34),y=i(985),I=i.n(y);e.default={components:{Avatar:u.a,Thumb:m.a,CommentForm:f.a,SubCommentList:v.a,UserPopover:C.a,ConfirmDialog:I.a},props:["comment","entry","expanded"],data:function(){return{likeLock:Object(r.a)(),isReplyFormVisible:!1,isShowAll:!1,isRemoveDialogVisible:!1}},computed:s()({},Object(a.mapGetters)({user:o.USER}),{removable:function(){return(!this.type||"entry"===this.type)&&this.user&&this.entry&&this.entry.user&&this.user.id===this.entry.user.id},visible:function(){return this.removable},mobile:function(){return Object(M.d)()&&this.visible},position:function(){return this.$userPosition(this.comment.user)},imageUrl:function(){return this.comment.imageUrlList[0]},limitedContent:function(){return Object(c.a)(this.comment.content,{maxLineCount:this.maxLineCount,perLineLength:this.perLineLength})},collapsed:function(){return this.limitedContent.length<this.comment.content.length&&!this.isShowAll&&this.comment.content.length-this.limitedContent.length>this.perLineLength},perLineLength:function(){return Object(M.d)()?30:40},maxLineCount:function(){return Object(M.d)()?4:6},replyPlaceholder:function(){return"回复"+this.comment.user.username+"..."},toggleLikeAction:function(){switch(this.type){case"pin":return o.TOGGLE_LIKE_PIN_COMMENT;case"book":return o.TOGGLE_LIKE_BOOK_COMMENT;case"repo":return o.TOGGLE_LIKE_REPO_COMMENT;default:return o.TOGGLE_LIKE_COMMENT}}}),methods:{toggleLike:function(){var t=this;this.likeLock.do(function(){return t.$ensureAuthorized("login").then(function(){return t.$store.dispatch(t.toggleLikeAction,{comment:t.comment,entry:t.entry}).catch(function(e){t.$error(e)})}).catch(function(){})})},onReplyFormEmptyBlur:function(){var t=this;window.setTimeout(function(){t.isReplyFormVisible=!1})},onSubmitted:function(){this.isReplyFormVisible=!1,this.$refs.subCommentList.onSubmitted()},refetch:function(){this.$emit("refetch")},deleteComment:function(){var t=this;this.isRemoveDialogVisible=!1,this.$ensureAuthorized("login").then(function(){t.$store.dispatch(o.DELETE_COMMENT,{entry:t.entry,comment:t.comment}).then(function(){t.$alert("评论删除成功")}).catch(function(e){t.$error(e)})})}}}},1301:function(t,e,i){function n(t){i(1302)}var s=i(8)(i(1303),i(1308),n,"data-v-f1d03d04",null);t.exports=s.exports},1302:function(t,e){},1303:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(159),s=i.n(n),o=i(1304),a=i.n(o);e.default={components:{SubComment:a.a},props:["entry","parent","expanded","removable"],data:function(){return{list:[],page:1,pageSize:10,total:0,canNext:!0,loading:!1}},computed:{fetchMoreTitle:function(){return this.loading?"加载中...":"加载更多"},canFetchMore:function(){this.parent.subCommentCount;return!!this.list.length&&(this.expanded?1===this.page?this.parent.replyCount>this.list.length:this.canNext:this.list.length&&this.parent.replyCount>this.list.length)}},watch:{parent:function(t){this.list=t.topSubCommentList}},methods:{getRepository:function(){return this.$getBean("commentRepository")},onSubmitted:function(){var t=this;this.getRepository().getSubCommentList({commentId:this.parent.id,entryId:this.entry.id,page:1,pageSize:this.pageSize}).then(function(e){var i=e.list,n=e.total;t.list=i,t.total=n}).catch(function(t){console.error(t)})},fetchMore:function(){var t=this;!this.loading&&this.canNext&&(this.loading=!0,this.getRepository().getSubCommentList({commentId:this.parent.id,entryId:this.entry.id,page:this.page,pageSize:this.pageSize}).then(function(e){var i=e.list,n=e.total;t.loading=!1,t.mergeList(i),t.total=n,t.canNext=n>t.list.length&&i.length>0,t.page++}).catch(function(e){t.loading=!1,console.error(e)}))},mergeList:function(t){var e,i=this.list.reduce(function(t,e){return t[e.id]=!0,t},{}),n=t.filter(function(t){return!i[t.id]});(e=this.list).push.apply(e,s()(n))}},mounted:function(){var t=this.parent.subCommentCount;this.expanded&&t<=this.pageSize&&t>2&&this.fetchMore(),this.list=this.parent.topSubCommentList}}},1304:function(t,e,i){function n(t){i(1305)}var s=i(8)(i(1306),i(1307),n,"data-v-2c9572fe",null);t.exports=s.exports},1305:function(t,e){},1306:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(10),s=i(970),o=i.n(s),a=i(223),r=i(160),c=i(971),l=i.n(c),u=i(1093),d=i.n(u),m=i(222),h=i.n(m),f=i(977),p=i.n(f),v=i(34),g=i(985),C=i.n(g);e.default={components:{CommentForm:d.a,UserPopover:l.a,Avatar:h.a,Triangle:p.a,Thumb:o.a,ConfirmDialog:C.a},props:["entry","parent","comment","removable"],data:function(){return{likeLock:Object(a.a)(),isReplyFormVisible:!1,isShowAll:!1,isRemoveDialogVisible:!1}},computed:{visible:function(){return this.removable},isVisibleMobile:function(){return this.visible&&Object(v.d)()},position:function(){return this.$userPosition(this.comment.user)},imageUrl:function(){return this.comment.imageUrlList[0]},limitedContent:function(){return Object(r.a)(this.comment.content,{maxLineCount:this.maxLineCount,perLineLength:this.perLineLength})},collapsed:function(){return this.limitedContent.length<this.comment.content.length&&!this.isShowAll&&this.comment.content.length-this.limitedContent.length>this.perLineLength},replyPlaceholder:function(){return"回复"+this.comment.user.username+"..."},perLineLength:function(){return Object(v.d)()?30:40},maxLineCount:function(){return Object(v.d)()?4:6}},methods:{toggleLike:function(){var t=this;this.likeLock.do(function(){return t.$ensureAuthorized("login").then(function(){return t.$store.dispatch(n.TOGGLE_LIKE_COMMENT,{comment:t.comment,entry:t.entry}).catch(function(e){t.$error(e)})}).catch(function(){})})},onReplyFormEmptyBlur:function(){var t=this;window.setTimeout(function(){t.isReplyFormVisible=!1})},onSubmitted:function(){this.isReplyFormVisible=!1,this.$alert("评论成功"),this.$emit("submitted")},deleteSubComment:function(t){var e=this;this.isRemoveDialogVisible=!1,this.$ensureAuthorized("login").then(function(){e.$store.dispatch(n.DELETE_COMMENT,{parent:e.parent,entry:e.entry,comment:t}).then(function(){e.$alert("回复删除成功"),e.$emit("submitted")}).catch(function(t){e.$error(t)})})}}}},1307:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sub-comment"},[i("div",{staticClass:"sub-comment-content-row"},[i("div",{staticClass:"sub-comment-content-box"},[i("user-popover",{staticClass:"popover",attrs:{userId:t.comment.user.id}},[i("app-link",{staticClass:"username",attrs:{to:t.$userRoute(t.comment.user),blank:!0}},[i("avatar",{staticClass:"avatar",attrs:{user:t.comment.user,size:100}})],1)],1),i("div",{staticClass:"user-content-box"},[i("div",{staticClass:"profie"},[i("user-popover",{attrs:{userId:t.comment.user.id}},[i("app-link",{staticClass:"username",attrs:{to:t.$userRoute(t.comment.user),blank:!0}},[t._v(t._s(t.comment.user.username))])],1),i("div",{staticClass:"position"},[t._v(t._s(t.position))])],1),i("div",{staticClass:"content-box"},[t.comment.firstComment!==t.comment.replyCommentId?[i("span",[t._v(" 回复")]),i("user-popover",{attrs:{userId:t.comment.replyUser.id}},[i("app-link",{staticClass:"username be-replied",attrs:{to:t.$userRoute(t.comment.replyUser),blank:!0}},[t._v(t._s(t.comment.replyUser.username))])],1),i("span",[t._v(": ")])]:t._e(),t.collapsed?i("span",{directives:[{name:"parse-url-emoji",rawName:"v-parse-url-emoji",value:t.limitedContent,expression:"limitedContent"}],staticClass:"content"}):i("span",{directives:[{name:"parse-url-emoji",rawName:"v-parse-url-emoji",value:t.comment.content,expression:"comment.content"}],staticClass:"content"})],2),t.collapsed?i("span",{staticClass:"limit-btn",on:{click:function(e){t.isShowAll=!0}}},[t._v("展开")]):t._e(),t.imageUrl&&!t.collapsed?i("span",{staticClass:"image viewable",attrs:{"data-src":t.imageUrl}},[t._v("[图片]"),i("a",{staticClass:"image-preview"},[t.imageUrl&&!t.collapsed?i("thumb",{staticClass:"image viewable",attrs:{"data-src":t.imageUrl,url:t.imageUrl,width:400,height:340,format:"jpg"}}):t._e(),i("triangle",{staticClass:"triangle-top"})],1)]):t._e(),i("div",{staticClass:"limit-all-box"},[t.isShowAll?i("span",{staticClass:"limit-btn all",on:{click:function(e){t.isShowAll=!1}}},[t._v("收起")]):t._e()]),i("div",{staticClass:"sub-comment-stat-box"},[i("time",{staticClass:"time",attrs:{datetime:t._f("iso")(t.comment.createdAt),title:t.comment.createdAt}},[t._v(t._s(t._f("relative")(t.comment.createdAt)))]),i("div",{staticClass:"delete",class:{visible:t.visible},on:{click:function(e){t.isRemoveDialogVisible=!0}}},[t._v("  · 删除")]),i("div",{staticClass:"sub-comment-action-box"},[i("div",{staticClass:"like-action action",class:{active:t.comment.liked},on:{click:t.toggleLike}},[t.comment.liked?[i("svg",{staticClass:"icon like-icon",attrs:{"aria-hidden":"true",width:"16",height:"16",viewBox:"0 0 20 20"}},[i("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[i("path",{attrs:{d:"M0 0h20v20H0z"}}),t._v(" "),i("path",{attrs:{fill:"#37C700",stroke:"#37C700","stroke-linejoin":"round","stroke-width":".964",d:"M5.344 8.833V17H4.072C3.482 17 3 16.424 3 15.716V10.22c0-.739.502-1.387 1.072-1.387h1.272zM10.6 4.166c.106-.693.692-1.179 1.335-1.166.918.018 1.465.777 1.655 1.153.346.686.356 1.816.118 2.542-.215.657-.713 1.52-.713 1.52h3.732c.395 0 .762.193 1.006.526.248.341.33.784.218 1.187l-1.69 6.08c-.153.584-.662.992-1.236.992H7.219V8.504c1.686-.361 3.191-3.086 3.381-4.338z"}})])])]:[i("svg",{staticClass:"icon like-icon",attrs:{"aria-hidden":"true",width:"16",height:"16",viewBox:"0 0 20 20"}},[i("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[i("path",{attrs:{d:"M0 0h20v20H0z"}}),t._v(" "),i("path",{attrs:{stroke:"#8A93A0","stroke-linejoin":"round",d:"M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z"}})])])],t.comment.likesCount?i("span",{staticClass:"action-title"},[t._v(t._s(t.comment.likesCount))]):t._e()],2),i("div",{staticClass:"comment-action action",on:{click:function(e){t.isReplyFormVisible=!t.isReplyFormVisible}}},[i("svg",{staticClass:"icon comment-icon",attrs:{"aria-hidden":"true",width:"16",height:"16",viewBox:"0 0 20 20"}},[i("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[i("path",{attrs:{d:"M0 0h20v20H0z"}}),t._v(" "),i("path",{attrs:{stroke:"#8A93A0","stroke-linejoin":"round",d:"M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z"}})])]),t._v(" "),i("span",[t._v("回复")])])])]),t.isReplyFormVisible?i("comment-form",{staticClass:"reply-form",attrs:{entry:t.entry,parent:t.parent,comment:t.comment,autoFocus:!0,placeholder:t.replyPlaceholder},on:{emptyBlur:t.onReplyFormEmptyBlur,submitted:t.onSubmitted}}):t._e()],1)],1)]),t.isRemoveDialogVisible?i("confirm-dialog",{attrs:{title:"确认要删除这条回复吗？",content:""},on:{confirm:function(e){t.deleteSubComment(t.comment)},cancel:function(e){t.isRemoveDialogVisible=!1}}}):t._e()],1)},staticRenderFns:[]}},1308:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sub-comment-list"},[t._l(t.list,function(e){return i("div",{key:e.id,staticClass:"item"},[i("sub-comment",{staticClass:"sub-comment",attrs:{entry:t.entry,parent:t.parent,comment:e,removable:t.removable},on:{submitted:t.onSubmitted}})],1)}),t.canFetchMore?i("div",{staticClass:"item fetch-more"},[i("div",{staticClass:"fetch-more-comment",on:{click:t.fetchMore}},[t._v(t._s(t.fetchMoreTitle))])]):t._e()],2)},staticRenderFns:[]}},1309:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"comment"},[i("user-popover",{staticClass:"popover",attrs:{userId:t.comment.user.id}},[i("app-link",{staticClass:"user-link",attrs:{to:t.$userRoute(t.comment.user),blank:!0}},[i("avatar",{staticClass:"avatar",attrs:{user:t.comment.user,size:100}})],1)],1),i("div",{staticClass:"content-box comment-divider-line"},[i("div",{staticClass:"meta-box"},[i("user-popover",{attrs:{userId:t.comment.user.id}},[i("app-link",{staticClass:"username ellipsis",attrs:{to:t.$userRoute(t.comment.user),blank:!0}},[t._v(t._s(t.comment.user.username))])],1),i("div",{staticClass:"position"},[t._v(t._s(t.position))])],1),t.collapsed?i("div",{directives:[{name:"parse-url-emoji",rawName:"v-parse-url-emoji",value:t.limitedContent,expression:"limitedContent"}],staticClass:"content"}):i("div",{directives:[{name:"parse-url-emoji",rawName:"v-parse-url-emoji",value:t.comment.content,expression:"comment.content"}],staticClass:"content"}),i("div",{staticClass:"limit-ctl-box"},[t.collapsed?i("div",{staticClass:"limit-btn",on:{click:function(e){t.isShowAll=!0}}},[t._v("展开")]):t._e(),t.isShowAll?i("div",{staticClass:"limit-btn",on:{click:function(e){t.isShowAll=!1}}},[t._v("收起")]):t._e()]),t.imageUrl&&!t.collapsed?i("thumb",{staticClass:"image viewable",attrs:{"data-src":t.imageUrl,url:t.imageUrl,width:160,height:160,format:"jpg"}}):t._e(),i("div",{staticClass:"reply-stat"},[i("time",{staticClass:"time",attrs:{datetime:t._f("iso")(t.comment.createdAt),title:t.comment.createdAt}},[t._v(t._s(t._f("relative")(t.comment.createdAt)))]),i("div",{staticClass:"delete",class:{visible:t.visible,mobile:t.mobile},on:{click:function(e){t.isRemoveDialogVisible=!0}}},[t._v("  · 删除")]),i("div",{staticClass:"action-box"},[i("div",{staticClass:"like-action action",class:{active:t.comment.liked},on:{click:t.toggleLike}},[t.comment.liked?[i("svg",{staticClass:"icon like-icon",attrs:{"aria-hidden":"true",width:"16",height:"16",viewBox:"0 0 20 20"}},[i("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[i("path",{attrs:{d:"M0 0h20v20H0z"}}),t._v(" "),i("path",{attrs:{fill:"#37C700",stroke:"#37C700","stroke-linejoin":"round","stroke-width":".964",d:"M5.344 8.833V17H4.072C3.482 17 3 16.424 3 15.716V10.22c0-.739.502-1.387 1.072-1.387h1.272zM10.6 4.166c.106-.693.692-1.179 1.335-1.166.918.018 1.465.777 1.655 1.153.346.686.356 1.816.118 2.542-.215.657-.713 1.52-.713 1.52h3.732c.395 0 .762.193 1.006.526.248.341.33.784.218 1.187l-1.69 6.08c-.153.584-.662.992-1.236.992H7.219V8.504c1.686-.361 3.191-3.086 3.381-4.338z"}})])])]:[i("svg",{staticClass:"icon like-icon",attrs:{"aria-hidden":"true",width:"16",height:"16",viewBox:"0 0 20 20"}},[i("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[i("path",{attrs:{d:"M0 0h20v20H0z"}}),t._v(" "),i("path",{attrs:{stroke:"#8A93A0","stroke-linejoin":"round",d:"M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z"}})])])],t.comment.likesCount?i("span",{staticClass:"action-title"},[t._v(t._s(t.comment.likesCount))]):t._e()],2),i("div",{staticClass:"comment-action action",on:{click:function(e){t.isReplyFormVisible=!t.isReplyFormVisible}}},[i("svg",{staticClass:"icon comment-icon",attrs:{"aria-hidden":"true",width:"16",height:"16",viewBox:"0 0 20 20"}},[i("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[i("path",{attrs:{d:"M0 0h20v20H0z"}}),t._v(" "),i("path",{attrs:{stroke:"#8A93A0","stroke-linejoin":"round",d:"M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z"}})])]),t._v(" "),i("span",{staticClass:"action-title"},[t._v("回复")])])])]),t.isReplyFormVisible?i("comment-form",{staticClass:"reply-form",attrs:{entry:t.entry,comment:t.comment,autoFocus:!0,placeholder:t.replyPlaceholder},on:{emptyBlur:t.onReplyFormEmptyBlur,submitted:t.onSubmitted}}):t._e(),i("sub-comment-list",{ref:"subCommentList",staticClass:"sub-comment-list",attrs:{entry:t.entry,parent:t.comment,expanded:t.expanded,removable:t.removable},on:{refetch:t.refetch}})],1),t.isRemoveDialogVisible?i("confirm-dialog",{attrs:{title:"你确定要删除这条评论吗？",content:"删除评论后，评论下的所有回复都会被删除"},on:{confirm:t.deleteComment,cancel:function(e){t.isRemoveDialogVisible=!1}}}):t._e()],1)},staticRenderFns:[]}},1310:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"comment-list"},[i("image-viewer",{ref:"imageViewer",attrs:{selector:".viewable"}}),t._l(t.list,function(e){return i("div",{key:e.id,staticClass:"item"},[i("comment",{staticClass:"comment",attrs:{comment:e,entry:t.entry,expanded:t.expanded},on:{refetch:t.refetch}})],1)})],2)},staticRenderFns:[]}},1311:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"comment-list-box",class:{sticky:t.sticky}},[i("div",{staticClass:"title"},[t._v("评论")]),i("comment-form",{staticClass:"comment-form",attrs:{entry:t.entry},on:{submitted:t.onSubmitted}}),t.list.length?i("comment-list",{staticClass:"comment-list",attrs:{list:t.list,entry:t.entry,expanded:t.expanded},on:{refetch:t.onSubmitted}}):t._e(),!t.expanded&&t.list.length<t.entry.commentsCount&&t.entry.commentsCount>6&&this.canFetchMore?i("div",{staticClass:"fetch-more-comment",on:{click:t.fetchMore}},[t._v(t._s(t.fetchMoreTitle))]):t._e()],1)},staticRenderFns:[]}},1348:function(t,e,i){function n(t){i(1349)}var s=i(8)(i(1350),i(1351),n,"data-v-f6632f66",null);t.exports=s.exports},1349:function(t,e){},1350:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(983),s=i.n(n);e.default={components:{SidebarBlock:s.a},props:["list"]}},1351:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.list.length?n("sidebar-block",{staticClass:"related-entry-sidebar-block",attrs:{"st:block":"relatedEntrySidebarBlock",title:"相关文章"}},[n("div",{staticClass:"entry-list"},t._l(t.list,function(e,s){return n("app-link",{key:s,staticClass:"item",attrs:{to:t.$entryPublicRoute(e),blank:!0,"st:name":"link"}},[n("div",{staticClass:"entry-title"},[t._v(t._s(e.title))]),n("div",{staticClass:"entry-meta-box"},[n("div",{staticClass:"entry-meta"},[n("img",{staticClass:"icon",attrs:{src:i(1352)}}),n("span",{staticClass:"count"},[t._v(t._s(e.collectionCount||0))])]),n("div",{staticClass:"entry-meta"},[n("img",{staticClass:"icon",attrs:{src:i(1353)}}),n("span",{staticClass:"count"},[t._v(t._s(e.commentsCount||0))])])])])}))]):t._e()},staticRenderFns:[]}},1352:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgxNnYxNkgweiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiNCMkJBQzIiIGQ9Ik00LjIzNCA2LjY5M3Y3LjI0M0gyLjg4MWMtLjQ4NiAwLS44ODEtLjQ5Mi0uODgxLTEuMDk1VjcuODc1YzAtLjYzLjQxMi0xLjE4Mi44OC0xLjE4MmgxLjM1NHptMy42ODgtMy43QzguMDEgMi40MDQgOC40OSAxLjk5IDkuMDE4IDJjLjc1NC4wMTUgMS4yMDQuNjYzIDEuMzYuOTgzLjI4NC41ODUuMjkyIDEuNTQ5LjA5NyAyLjE2Ny0uMTc3LjU2LS41ODYgMS4yOTYtLjU4NiAxLjI5NmgzLjA2NmMuMzI0IDAgLjYyNS4xNjQuODI2LjQ0OS4yMDQuMjkuMjcuNjY4LjE3OCAxLjAxMWwtMS4zODcgNS4xODNjLS4xMjYuNDk5LS41NDQuODQ3LTEuMDE2Ljg0N0g1LjUzVjYuNjkzYzEuMzg1LS4zMDkgMi4yMzYtMi42MzIgMi4zOTItMy43eiIvPgogICAgPC9nPgo8L3N2Zz4K"},1353:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgxNnYxNkgweiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiNCMkJBQzIiIGQ9Ik0yIDR2OC4wMzhoNC40NDRMMTEuMTExIDE1di0yLjk2MkgxNFY0eiIvPgogICAgPC9nPgo8L3N2Zz4K"},1354:function(t,e,i){function n(t){i(1355)}var s=i(8)(i(1356),i(1357),n,"data-v-2febaf4d",null);t.exports=s.exports},1355:function(t,e){},1356:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(10),s=i(223),o=i(45),a=i(972),r=i(31),c=i(984),l=i.n(c);e.default={components:{CollectPopup:l.a},props:["entry"],data:function(){return{likeLock:Object(s.a)(),wechatQrCodeUrl:"",isCollectPopupVisible:!1}},methods:{toggleLike:function(){var t=this;this.likeLock.do(function(){return t.$ensureAuthorized("login").then(function(){t.$store.dispatch(n.TOGGLE_LIKE_ENTRY,t.entry).catch(function(e){t.$error(e)})}).catch(function(){})})},onCollectBtnClick:function(){var t=this;this.$ensureAuthorized("login").then(function(){t.isCollectPopupVisible=!t.isCollectPopupVisible}).catch(function(){})},scrollToComment:function(){var t=document.getElementById("comment-box");window.location.hash="#comment",t&&window.setTimeout(function(){return Object(r.k)(t,-80)})},shareToWeibo:function(){this.$getBean("shareBusiness").shareEntryToWeibo(this.entry)},shareToQQ:function(){this.$getBean("shareBusiness").shareEntryToQQ(this.entry)},generateWechatQrCode:function(){this.wechatQrCodeUrl||(this.wechatQrCodeUrl=Object(a.a)(Object(o.b)("article-parse",{id:this.getId(),type:this.getType(),source:"article_sharefloater",campaign:"share_article"})))},getId:function(){return"post"===this.getType()?this.entry.originalUrl.slice(-24):this.entry.id},getType:function(){return"post"===this.entry.type?"post":"entry"}}}},1357:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"article-suspended-panel"},[i("div",{staticClass:"like-btn panel-btn like-adjust",class:{active:t.entry.liked,"with-badge":t.entry.collectionCount},attrs:{badge:t._f("truncate")(t.entry.collectionCount)},on:{click:t.toggleLike}}),i("div",{staticClass:"comment-btn panel-btn comment-adjust",class:{"with-badge":t.entry.commentsCount},attrs:{badge:t._f("truncate")(t.entry.commentsCount)},on:{click:t.scrollToComment}}),i("div",{staticClass:"collect-btn panel-btn",class:{active:t.entry.collected,open:t.isCollectPopupVisible},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.onCollectBtnClick(e)}}},[t.isCollectPopupVisible?i("collect-popup",{attrs:{entry:t.entry,position:"right"},on:{close:function(e){t.isCollectPopupVisible=!1}}}):t._e()],1),i("div",{staticClass:"share-title"},[t._v("分享")]),i("div",{staticClass:"weibo-btn share-btn panel-btn",on:{click:t.shareToWeibo}}),i("div",{staticClass:"qq-btn share-btn panel-btn",on:{click:t.shareToQQ}}),i("div",{staticClass:"wechat-btn share-btn panel-btn",on:{mouseenter:t.generateWechatQrCode}},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.wechatQrCodeUrl,expression:"wechatQrCodeUrl"}],staticClass:"wechat-qr-code-img shadow",attrs:{src:t.wechatQrCodeUrl}})])])},staticRenderFns:[]}},1358:function(t,e,i){function n(t){i(1359)}var s=i(8)(i(1360),i(1361),n,"data-v-d4c2d1ba",null);t.exports=s.exports},1359:function(t,e){},1360:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(970),s=i.n(n),o=i(115),a=i(973);e.default={components:{Thumb:s.a},props:["category"],data:function(){return{disabledBookId:a.c,fetched:!1,recommendData:{category:"",data:[]}}},computed:{categoryTitle:function(){var t="你可能感兴趣的小册",e=o.a[this.recommendData.category];return t=e&&"阅读"!==e?e+"系列小册推荐":t}},watch:{category:function(t){var e=t;this.getBooks(e)}},methods:{toBookInfo:function(t){this.$router.push({name:"bookInfo",params:{id:t}})},tryRead:function(t){this.$router.push({name:"bookSection",params:{id:t}})},getBooks:function(t){var e=this;this.fetched||(this.fetched=!0,this.$getBean("xiaoceBusiness").getRecommendBooks({category:t}).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.data,n=t.category;e.recommendData={data:i.filter(function(t){return t._id!==a.c}),category:n}}))}},mounted:function(){this.category&&this.getBooks(this.category)},beforeDestroy:function(){}}},1361:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.recommendData.data.length?i("div",{staticClass:"books-recommend books-recommend-footer"},[i("div",{staticClass:"heading"},[t._v(t._s(t.categoryTitle))]),i("div",{staticClass:"book-list"},t._l(t.recommendData.data,function(e){return i("div",{staticClass:"book",on:{click:function(i){t.toBookInfo(e._id)}}},[i("div",{staticClass:"poster"},[i("thumb",{staticClass:"poster-img",attrs:{alt:"小册封面图",url:e.img,quality:95,width:200,height:280}})],1),i("div",{staticClass:"info"},[i("div",{staticClass:"title"},[t._v(t._s(e.title))]),i("div",{staticClass:"bought"},[i("span",{staticClass:"try-read",on:{click:function(i){i.stopPropagation(),i.preventDefault(),t.tryRead(e._id)}}},[t._v("试读")]),i("span",{staticClass:"txt"},[t._v(t._s(e.section.length)+"小节")]),i("span",{staticClass:"txt"},[t._v(t._s(e.buyCount)+"人已购买")])])])])}))]):t._e()},staticRenderFns:[]}},1362:function(t,e,i){function n(t){i(1363)}var s=i(8)(i(1364),i(1365),n,"data-v-39be193a",null);t.exports=s.exports},1363:function(t,e){},1364:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(10),s=i(991),o=(i.n(s),i(223));e.default={props:["entry"],data:function(){return{likeLock:Object(o.a)(),isSharePanelVisible:!1,isSharePanelOnTop:!1,wechatShareQrCode:""}},computed:{collectText:function(){return this.entry.collected?"已收藏":"收藏"}},methods:{togglePraise:function(){var t=this;this.likeLock.do(function(){return t.$ensureAuthorized("login").then(function(){return t.$store.dispatch(n.TOGGLE_LIKE_ENTRY,t.entry).catch(function(e){t.$error(e)})}).catch(function(){})})},linkToMobileCollection:function(){var t=this;this.$ensureAuthorized("login").then(function(){t.$router.push({path:"/mobile/collections/"+t.entry.id})})}}}},1365:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"action-box"},[i("div",{staticClass:"praise-action action",class:{active:t.entry.liked},on:{click:t.togglePraise}},[i("div",{staticClass:"action-title-box"},[t.entry.liked?[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23"}},[i("path",{attrs:{fill:"#6CBD45","fill-rule":"evenodd",stroke:"#6CBD45","stroke-linejoin":"round",d:"M5 8.692V21H3.372C2.616 21 2 20.131 2 19.064v-8.283c0-1.112.642-2.089 1.372-2.089H5zm6.705-6.027c.146-.99.962-1.683 1.856-1.665 1.278.025 2.039 1.11 2.303 1.647.482.98.495 2.595.165 3.632-.3.938-.993 2.171-.993 2.171h5.194c.549 0 1.058.275 1.399.752.345.487.458 1.12.302 1.695l-2.35 8.685c-.213.835-.922 1.418-1.72 1.418H7V8.864c2.346-.517 4.44-4.41 4.705-6.199z"}})])]:[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23"}},[i("path",{attrs:{fill:"none","fill-rule":"evenodd",stroke:"#8A93A0","stroke-linecap":"round","stroke-linejoin":"round",d:"M5 8.692V21H3.372C2.616 21 2 20.131 2 19.064v-8.283c0-1.112.642-2.089 1.372-2.089H5zm6.705-6.027c.146-.99.962-1.683 1.856-1.665 1.278.025 2.039 1.11 2.303 1.647.482.98.495 2.595.165 3.632-.3.938-.993 2.171-.993 2.171h5.194c.549 0 1.058.275 1.399.752.345.487.458 1.12.302 1.695l-2.35 8.685c-.213.835-.922 1.418-1.72 1.418H7V8.864c2.346-.517 4.44-4.41 4.705-6.199z"}})])],i("span",{staticClass:"action-title"},[t.entry.collectionCount?[t._v(t._s(t._f("limitNumber")(t.entry.collectionCount,999)))]:[t._v("赞")]],2)],2)]),i("div",{staticClass:"comment-action action",on:{click:function(e){t.$emit("comment")}}},[i("div",{staticClass:"action-title-box"},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23"}},[i("path",{attrs:{fill:"none","fill-rule":"evenodd",stroke:"#8A93A0","stroke-linejoin":"round",d:"M11.5 18.37c-5.247 0-9.5-3.664-9.5-8.185C2 5.665 6.253 2 11.5 2S21 5.665 21 10.185c0 1.783-.662 3.433-1.785 4.778-.164.196.518 4.037.518 4.037l-4.136-1.428c-1.263.465-2.63.798-4.097.798z"}})]),t._v(" "),i("span",{staticClass:"action-title"},[t.entry.commentsCount?[t._v(t._s(t._f("limitNumber")(t.entry.commentsCount,999)))]:[t._v("评论")]],2)])]),i("div",{staticClass:"collect-action action",on:{click:t.linkToMobileCollection}},[i("div",{staticClass:"action-title-box"},[t.entry.collected?[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23"}},[i("path",{attrs:{fill:"#FFC347","fill-rule":"evenodd",stroke:"#FFC347",d:"M12.43 17.73c-.515-.286-1.347-.286-1.862 0L6.86 19.77c-1.029.565-1.702.05-1.507-1.148l.71-4.322c.098-.6-.159-1.43-.577-1.856l-2.998-3.06c-.833-.85-.572-1.682.576-1.856l4.143-.63c.575-.089 1.25-.602 1.507-1.148l1.853-3.933c.516-1.09 1.35-1.088 1.863 0l1.856 3.933c.256.546.93 1.06 1.507 1.148l4.144.63c1.15.174 1.406 1.009.575 1.856l-3 3.06c-.416.426-.674 1.256-.576 1.856l.709 4.322c.196 1.2-.481 1.713-1.507 1.148l-3.708-2.04z"}})])]:[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23"}},[i("path",{attrs:{fill:"none","fill-rule":"evenodd",stroke:"#8A93A0",d:"M12.43 17.73c-.515-.286-1.347-.286-1.862 0L6.86 19.77c-1.029.565-1.702.05-1.507-1.148l.71-4.322c.098-.6-.159-1.43-.577-1.856l-2.998-3.06c-.833-.85-.572-1.682.576-1.856l4.143-.63c.575-.089 1.25-.602 1.507-1.148l1.853-3.933c.516-1.09 1.35-1.088 1.863 0l1.856 3.933c.256.546.93 1.06 1.507 1.148l4.144.63c1.15.174 1.406 1.009.575 1.856l-3 3.06c-.416.426-.674 1.256-.576 1.856l.709 4.322c.196 1.2-.481 1.713-1.507 1.148l-3.708-2.04z"}})])],i("span",{staticClass:"action-title"},[t._v(t._s(t.collectText))])],2)])])},staticRenderFns:[]}},1468:function(t,e,i){function n(t){i(1469)}var s=i(8)(i(1470),i(1474),n,"data-v-3269f0ad",null);t.exports=s.exports},1469:function(t,e){},1470:function(t,e,i){"use strict";function n(){return{catalog:o(),reacticve:!0,marginTop:0}}function s(t){var e=[].slice.call(t.querySelectorAll("h1,h2,h3,h4,h5,h6")),i=o();return e.reduce(function(t,e){for(var i=e.textContent.replace(/\n/g," ").trim(),n=o({title:i||"<未识别标题>",level:+e.nodeName.slice(1),hash:"#"+(e.dataset.id||""),childList:[]}),s=t;s&&s.level>=n.level;)s=s.parent;return n.parent=s,n.deep=s.deep+1,n.visible=n.deep<=C,s.childList.push(n),n},i),i}function o(t){return f()({deep:0,level:0,parent:null,active:!1,visible:!0,childList:[]},t)}function a(t,e){r(e);var i=c(t,e);if(i){var n=l(i);n&&(n.active=!0)}}function r(t){t.active=!1,t.childList.forEach(r)}function c(t,e){if(e.hash===t)return e;var i=!0,n=!1,s=void 0;try{for(var o,a=m()(e.childList);!(i=(o=a.next()).done);i=!0){var r=o.value,l=c(t,r);if(l)return l}}catch(t){n=!0,s=t}finally{try{!i&&a.return&&a.return()}finally{if(n)throw s}}}function l(t){for(var e=t;e&&!e.visible;)e=e.parent;return e}function u(t){return[].slice.call(t.querySelectorAll("h1,h2,h3,h4,h5,h6"))}Object.defineProperty(e,"__esModule",{value:!0});var d=i(164),m=i.n(d),h=i(3),f=i.n(h),p=i(31),v=i(1471),g=i.n(v),C=3;e.default={components:{Item:g.a},props:["title"],data:function(){return n()},methods:{generate:function(t){!this.$isServer&&t&&(this.node=t,this.catalog=s(t),this.scrollViewByCurrentHash(),this.activeItemByCurrentPosition())},reset:function(){f()(this,n())},activeItemByCurrentPosition:function(){var t=this;if(this.node)for(var e=u(this.node),i=e.map(function(t){return t.getBoundingClientRect().top}),n=0;n<i.length;n++){var s=i[n],o=i[n+1];if(s<100&&(!o||o>100)){a("#"+e[n].dataset.id,this.catalog),this.$nextTick(function(){return t.scrollCatalogByCurrentPosition()});break}}},scrollCatalogByCurrentPosition:function(){var t=this.$refs.body,e=this.$refs.list,i=e.querySelector(".item.active");if(i){var n=Object(p.c)(),s=i.getBoundingClientRect(),o=e.getBoundingClientRect(),a=t.getBoundingClientRect(),r=Math.max(0,n.height-a.top);if(r&&r<o.height){var c=s.top-o.top;this.marginTop=Math.min(0,r/2-c)}else this.marginTop=0}else this.marginTop=0},onItemActivate:function(t){window.location.hash===t.hash?this.scrollViewByCurrentHash():window.location.hash=t.hash},scrollViewByCurrentHash:function(){var t=window.location.hash;if(t&&this.node){var e=this.node.querySelector('[data-id="'+t.slice(1)+'"]');e&&Object(p.k)(e,-80)}}},mounted:function(){var t=this;this.removeHashEventListener=Object(p.e)(window,"hashchange",function(){t.$nextTick(function(){return t.scrollViewByCurrentHash()})}),this.removeScrollEventListener=Object(p.g)(window,function(){t.activeItemByCurrentPosition()},300)},beforeDestroy:function(){this.removeHashEventListener(),this.removeScrollEventListener()}}},1471:function(t,e,i){var n=i(8)(i(1472),i(1473),null,null,null);t.exports=n.exports},1472:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"item",props:["item"],methods:{activate:function(t){this.$emit("activate",t)},onActivate:function(t){this.activate(t)}}}},1473:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{directives:[{name:"show",rawName:"v-show",value:t.item.visible,expression:"item.visible"}],staticClass:"item",class:["d"+t.item.deep,t.item.active&&"active"]},[i("a",{attrs:{href:t.item.hash,title:t.item.title},on:{click:function(e){e.preventDefault(),t.activate(t.item)}}},[t._v(t._s(t.item.title))]),t.item.childList.length?i("ul",{staticClass:"sub-list"},t._l(t.item.childList,function(e,n){return i("item",{key:n,attrs:{item:e},on:{activate:t.onActivate}})})):t._e()])},staticRenderFns:[]}},1474:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nav",{directives:[{name:"show",rawName:"v-show",value:t.catalog.childList.length,expression:"catalog.childList.length"}],staticClass:"article-catalog"},[t.title?i("div",{staticClass:"catalog-title"},[t._v(t._s(t.title))]):t._e(),i("div",{ref:"body",staticClass:"catalog-body"},[i("ul",{ref:"list",staticClass:"catalog-list",style:{marginTop:t.marginTop+"px"}},t._l(t.catalog.childList,function(e,n){return i("item",{key:n,attrs:{item:e},on:{activate:t.onItemActivate}})}))])])},staticRenderFns:[]}},2017:function(t,e){},2018:function(t,e,i){"use strict";function n(t){var e=t.state.route,i=e.params.id,n=Y(t),s=n.actionType.FETCH;return t.dispatch(s,i)}function s(t){var e=Y(t),i=e.actionType.FETCH_ADDITIONAL;return t.dispatch(i)}Object.defineProperty(e,"__esModule",{value:!0});var o=i(95),a=i.n(o),r=i(58),c=i(10),l=i(96),u=i(1164),d=i(31),m=i(34),h=i(991),f=i.n(h),p=i(1105),v=i.n(p),g=i(2019),C=i(222),M=i.n(C),y=i(970),I=i.n(y),b=i(971),A=i.n(b),L=i(1354),k=i.n(L),j=i(1069),w=i.n(j),N=i(1106),E=i.n(N),x=i(1289),D=i.n(x),T=i(1120),S=i.n(T),O=i(1358),_=i.n(O),z=i(995),B=i.n(z),R=i(226),U=i.n(R),Q=i(1362),P=i.n(Q),F=(i(19),i(1114)),G=i.n(F),Z=i(2020),V=i.n(Z),Y=function(t){return t.state.view.column};e.default={components:{Avatar:M.a,Thumb:I.a,UserPopover:A.a,ArticleSuspendedPanel:k.a,CommentForm:w.a,CommentList:E.a,CommentListBox:D.a,WechatBanner:S.a,BooksRecommendFooter:_.a,EntryList:B.a,ImageViewer:U.a,Sidebar:V.a,MobileArticleAction:P.a,OpenInApp:G.a},data:function(){return{articleBanner:g.a,defaultTagIconUrl:l.d,isViewNavOnTop:!1,isInWechatApp:!1,isMobile:!1}},computed:a()({},Object(r.mapGetters)({user:c.USER}),{state:function(){return Y(this.$store)},column:function(){return this.state.column},entry:function(){return this.state.entry},postId:function(){return this.$route.params.id},author:function(){return this.state.author},entryView:function(){return this.state.entryView},entryViewContent:function(){var t=this.$getBean("articleBusiness"),e=this.entryView&&this.entryView.transcodeContent;return e&&t.processArticleHtml(e,{lazyload:!0,copyable:!0})},tagList:function(){return this.entry.tags||[]},categoryTitle:function(){return(this.entry.category||{}).title},isFlutterTag:function(){return this.isTagFlutter()},categoryName:function(){return this.isFlutterTag?"flutter":(this.entry.category||{}).name},categoryId:function(){return(this.entry.category||{}).id},canEdit:function(){var t=this.user||{};return t.id&&t.id===this.author.id||"admin"===t.role},canExtendCommentList:function(){return this.state.commentList.canNext&&!this.state.commentList.canPrev},canFetchMore:function(){return this.state.commentList.canNext}}),metaInfo:function(){var t=Object(u.a)(this.entry,this.entryViewContent);return{title:t.title,meta:[{vmid:"keywords",name:"keywords",content:t.keywords},{vmid:"description",name:"description",content:t.description}]}},shareInfo:function(){return{title:this.entry.title,description:this.entry.abstract||this.entry.content,thumb:this.entry.screenshot,url:this.$route.fullPath}},methods:{fetch:function(){return n(this.$store)},fetchAdditional:function(){return s(this.$store)},onHeaderVisibilityChanged:function(t){this.isViewNavOnTop=!t},initLazyload:function(){var t=this.$refs.content.querySelectorAll("img.lazyload");this.lazyload=new v.a(t,{threshold:200,debounce:!0,eagerShowing:!0,infoGetter:function(t){var e=t.getAttribute("data-src");if(e)return{url:e,width:t.getAttribute("data-width"),height:t.getAttribute("data-height")}}})},initImageViewer:function(){this.$refs.imageViewer.attachContainer(this.$refs.content)},onSubmittedComment:function(){this.refreshCommentList()},onShouldFetchMoreComment:function(){this.$store.dispatch(this.state.commentList.actionType.FETCH_MORE)},refreshCommentList:function(){var t=this.state.commentList.actionType.FORCE_FETCH,e=this.entry.id;this.$store.dispatch(t,{entryId:e})},autoFocusComment:function(){"#comment"===this.$route.hash&&this.scrollToComment()},initEventListener:function(){var t=this.$getBean("eventBus");t.onVmLife(this,t.eventType.ROOT_CONTAINER_CLICK,function(t,e){})},openEditor:function(){var t=this.$getBean("editorBusiness").getPostEditUrl(this.column.id);window.location.href=t},onShouldFetchMoreRecommendedEntry:function(){this.$store.dispatch(this.state.recommendedEntryList.actionType.FETCH_MORE)},recordEntryView:function(){this.$getBean("behaviorBusiness").recordViewEntryAction(this.entry.id)},onContentElementClick:function(t){var e=this,i=t.target;if("copy-code-btn"===i.className){var n=i.textContent,s=i.parentNode,o=s.textContent.replace(n,"");f()(o).then(function(){e.$alert("代码复制成功")}).catch(function(){e.$error("一键复制失败，请手动复制")})}},isTagFlutter:function(){var t=this.entry.tags||[];return this.$getBean("tagBusiness").isContainedByTitle(t,"Flutter")},scrollToComment:function(){var t=document.getElementById("comment-box");t&&Object(d.k)(t,-100)}},preFetch:function(t){return n(t)},mounted:function(){var t=this;this.isInWechatApp=Object(m.c)(),this.isMobile=document.body.clientWidth<960,this.entry.createdAt=this.entry.createdAt,this.initEventListener(),this.fetch().then(function(){t.$nextTick(function(){t.initLazyload(),t.initImageViewer(),t.autoFocusComment(),t.$refs.sidebar.generateCatalog(t.$refs.content),t.recordEntryView()})}).then(function(){return t.fetchAdditional()}).catch(function(e){t.$error(e)})}}},2019:function(t,e,i){"use strict";e.a={url:"https://juejin.im/post/5acf3a3ff265da2374115df5",title:"掘金招聘运营经理、内容运营",content:"加入掘金和开发者一起成长。发送简历到 hr@xitu.io，期待你的加入！"}},2020:function(t,e,i){function n(t){i(2021)}var s=i(8)(i(2022),i(2031),n,"data-v-01f8f25d",null);t.exports=s.exports},2021:function(t,e){},2022:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(31),s=i(1038),o=i.n(s),a=i(1266),r=i.n(a),c=i(1348),l=i.n(c),u=i(1097),d=i.n(u),m=i(2023),h=i.n(m),f=i(2027),p=i.n(f);e.default={components:{AppDownloadSidebarBlock:o.a,WechatSidebarBlock:r.a,RelatedEntrySidebarBlock:l.a,BooksRecommendAside:d.a,AuthorBlock:h.a,CatalogBlock:p.a},props:["state","logined","onTop"],data:function(){return{isMobile:!0,sticky:!1}},computed:{categoryId:function(){return(this.state.entry.category||{}).id},isFlutterTag:function(){return this.isTagFlutter()},categoryName:function(){return this.isFlutterTag?"flutter":(this.state.entry.category||{}).name}},methods:{generateCatalog:function(t){this.$refs.catalogBlock.generateCatalog(t)},isTagFlutter:function(){var t=this.state.entry.tags||[];return this.$getBean("tagBusiness").isContainedByTitle(t,"Flutter")}},mounted:function(){var t=this;this.isMobile=document.body.clientWidth<960,this.removeScrollListener=Object(n.g)(window,function(){var e=t.$refs.stickyBlockBox,i=e&&e.previousElementSibling;if(i){var n=i.getBoundingClientRect();t.sticky=n.bottom<(t.isViewNavOnTop?0:60)}else t.sticky=!0})},beforeDestroy:function(){this.removeScrollListener&&this.removeScrollListener()}}},2023:function(t,e,i){function n(t){i(2024)}var s=i(8)(i(2025),i(2026),n,"data-v-72a03554",null);t.exports=s.exports},2024:function(t,e){},2025:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(222),s=i.n(n),o=i(983),a=i.n(o);e.default={components:{Avatar:s.a,SidebarBlock:a.a},props:["author"],computed:{position:function(){return this.$userPosition(this.author)},isCoEditor:function(){return"admin"===this.author.role||"editor"===this.author.role},beLikedCount:function(){return this.author.beLikedCount},beReadCount:function(){return this.author.beReadCount}}}},2026:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("sidebar-block",{staticClass:"author-block",attrs:{title:"关于作者"}},[i("app-link",{staticClass:"user-item item",attrs:{to:t.$userRoute(t.author),blank:!0}},[i("avatar",{staticClass:"avatar",attrs:{user:t.author,size:100}}),i("div",{staticClass:"info-box"},[i("div",{staticClass:"username"},[t._v(t._s(t.author.username))]),t.position?i("div",{staticClass:"position",attrs:{title:t.position}},[t._v(t._s(t.position))]):t._e()])],1),t.isCoEditor?i("div",{staticClass:"stat-item item"},[i("svg",{staticClass:"icon stat-editor-icon",attrs:{width:"25",height:"25",viewBox:"0 0 25 25"}},[i("defs",[i("circle",{attrs:{id:"a",cx:"12.5",cy:"12.5",r:"12.5"}}),t._v(" "),i("ellipse",{attrs:{id:"c",cx:"8.135",cy:"5.268",rx:"5.135",ry:"5.268"}}),t._v(" "),i("ellipse",{attrs:{id:"d",cx:"7.824",cy:"19.591",rx:"7.824",ry:"8.027"}})]),t._v(" "),i("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[i("mask",{attrs:{id:"b",fill:"#fff"}},[i("use",{attrs:{"xlink:href":"#a"}})]),t._v(" "),i("use",{attrs:{fill:"#E1EFFF","xlink:href":"#a"}}),t._v(" "),i("g",{attrs:{mask:"url(#b)"}},[i("g",{attrs:{transform:"translate(4.5 5.536)"}},[i("use",{attrs:{fill:"#7BB9FF","xlink:href":"#c"}}),t._v(" "),i("ellipse",{attrs:{cx:"8.135",cy:"5.268",stroke:"#E1EFFF","stroke-width":".5",rx:"5.385",ry:"5.518"}})]),t._v(" "),i("g",{attrs:{transform:"translate(4.5 5.536)"}},[i("use",{attrs:{fill:"#7BB9FF","xlink:href":"#d"}}),t._v(" "),i("ellipse",{attrs:{cx:"7.824",cy:"19.591",stroke:"#E1EFFF","stroke-width":".5",rx:"8.074",ry:"8.277"}})])])])]),t._v(" "),i("span",{staticClass:"content"},[t._v("联合编辑")])]):t._e(),t.beLikedCount?i("div",{staticClass:"stat-item item"},[i("svg",{staticClass:"zan",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"26",viewBox:"0 0 25 26"}},[i("g",{attrs:{fill:"none","fill-rule":"evenodd",transform:"translate(0 .57)"}},[i("ellipse",{attrs:{cx:"12.5",cy:"12.57",fill:"#E1EFFF",rx:"12.5",ry:"12.57"}}),t._v(" "),i("path",{attrs:{fill:"#7BB9FF",d:"M8.596 11.238V19H7.033C6.463 19 6 18.465 6 17.807v-5.282c0-.685.483-1.287 1.033-1.287h1.563zm4.275-4.156A1.284 1.284 0 0 1 14.156 6c.885.016 1.412.722 1.595 1.07.334.638.343 1.687.114 2.361-.207.61-.687 1.412-.687 1.412h3.596c.38 0 .733.178.969.488.239.317.318.728.21 1.102l-1.628 5.645a1.245 1.245 0 0 1-1.192.922h-7.068v-7.889c1.624-.336 2.623-2.866 2.806-4.029z"}})])]),t._v(" "),i("span",{staticClass:"content"},[t._v("获得赞数"),i("span",{staticClass:"count"},[t._v(t._s(t._f("thousands")(t.beLikedCount)))])])]):t._e(),t.beReadCount?i("div",{staticClass:"stat-item item"},[i("svg",{staticClass:"icon stat-view-icon",attrs:{width:"25",height:"25",viewBox:"0 0 25 25"}},[i("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[i("circle",{attrs:{cx:"12.5",cy:"12.5",r:"12.5",fill:"#E1EFFF"}}),t._v(" "),i("path",{attrs:{fill:"#7BB9FF",d:"M4 12.5S6.917 7 12.75 7s8.75 5.5 8.75 5.5-2.917 5.5-8.75 5.5S4 12.5 4 12.5zm8.75 2.292c1.208 0 2.188-1.026 2.188-2.292 0-1.266-.98-2.292-2.188-2.292-1.208 0-2.188 1.026-2.188 2.292 0 1.266.98 2.292 2.188 2.292z"}})])]),t._v(" "),i("span",{staticClass:"content"},[t._v("获得阅读数"),i("span",{staticClass:"count"},[t._v(t._s(t._f("thousands")(t.beReadCount)))])])]):t._e()],1)},staticRenderFns:[]}},2027:function(t,e,i){function n(t){i(2028)}var s=i(8)(i(2029),i(2030),n,"data-v-197940e0",null);t.exports=s.exports},2028:function(t,e){},2029:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1468),s=i.n(n),o=i(983),a=i.n(o);e.default={components:{ArticleCatalog:s.a,SidebarBlock:a.a},methods:{generateCatalog:function(t){this.$refs.catalog.generate(t)}}}},2030:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("sidebar-block",{staticClass:"catalog-block",attrs:{pure:!0}},[i("article-catalog",{ref:"catalog",attrs:{title:"目录"}})],1)},staticRenderFns:[]}},2031:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sidebar",class:{top:t.onTop,sticky:t.sticky},attrs:{"st:block":"sidebar"}},[i("author-block",{attrs:{author:t.state.author}}),t.isMobile?t._e():i("books-recommend-aside",{attrs:{place:"post",category:t.categoryId}}),t.logined?i("app-download-sidebar-block",{attrs:{closeable:!0}}):t._e(),t.logined?i("wechat-sidebar-block",{attrs:{category:t.categoryName,closeable:!0}}):t._e(),i("div",{ref:"stickyBlockBox",staticClass:"sticky-block-box"},[i("related-entry-sidebar-block",{attrs:{list:t.state.relatedEntryList}}),i("catalog-block",{ref:"catalogBlock"})],1)],1)},staticRenderFns:[]}},2032:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view-container",{on:{headerVisibilityChanged:t.onHeaderVisibilityChanged}},[n("div",{staticClass:"view column-view"},[n("div",{staticClass:"main-area article-area shadow"},[n("structured-article",{staticClass:"article",attrs:{entry:t.entry}},[t.entry.id?[t.entry.id?n("div",{staticClass:"author-info-block"},[n("app-link",{staticClass:"avatar-link",attrs:{to:t.$userRoute(t.author),blank:!0}},[n("avatar",{staticClass:"avatar",attrs:{user:t.author,decorative:!0}})],1),n("div",{staticClass:"author-info-box"},[n("app-link",{staticClass:"username ellipsis",attrs:{to:t.$userRoute(t.author),blank:!0}},[t._v(t._s(t.author.username))]),n("div",{staticClass:"meta-box"},[n("time",{staticClass:"time",attrs:{datetime:t._f("iso")(t.entry.createdAt),title:t.entry.createdAt}},[t._v(t._s(t._f("date")(t.entry.createdAt,"YYYY年MM月DD日")))]),n("span",{staticClass:"views-count"},[t._v("阅读 "+t._s(t.entry.viewsCount))]),t.canEdit?[n("span",{staticClass:"dot"},[t._v("·")]),n("span",{staticClass:"edit-btn",on:{click:t.openEditor}},[t._v("编辑")])]:t._e()],2)],1)],1):t._e(),t.entry.screenshot?n("thumb",{staticClass:"article-hero",attrs:{url:t.entry.screenshot,width:1304,height:734}}):t._e(),n("h1",{staticClass:"article-title"},[t._v(t._s(t.entry.title))]),n("div",{directives:[{name:"copyright",rawName:"v-copyright",value:{username:t.author.username},expression:"{ username: author.username }"}],ref:"content",staticClass:"article-content",attrs:{"data-id":t.entry.objectId,itemprop:"articleBody"},domProps:{innerHTML:t._s(t.entryViewContent)},on:{"!click":function(e){t.onContentElementClick(e)}}})]:[n("img",{staticClass:"article-placeholder",attrs:{src:i(2033)}})]],2),t.tagList.length?n("div",{staticClass:"tag-list-box"},[n("div",{staticClass:"tag-list-title"},[t._v("关注下面的标签，发现更多相似文章")]),n("div",{staticClass:"tag-list",attrs:{"st:block":"tagList"}},t._l(t.tagList,function(e){return n("app-link",{key:e.id,staticClass:"item",attrs:{to:t.$tagRoute(e),blank:!0,"st:name":"tag"}},[n("thumb",{staticClass:"tag-icon",attrs:{url:e.icon,width:42,height:42,shrink:!0,size:"contain",default:t.defaultTagIconUrl}}),n("div",{staticClass:"tag-title"},[t._v(t._s(e.title))])],1)}))]):t._e(),n("div",{staticClass:"article-banner",attrs:{"st:block":"banner"}},[n("a",{directives:[{name:"link",rawName:"v-link.blank",value:t.articleBanner.url,expression:"articleBanner.url",modifiers:{blank:!0}}],staticClass:"banner-title",attrs:{"st:name":"link","st:state":t.articleBanner.url}},[t._v(t._s(t.articleBanner.title))]),n("div",{staticClass:"banner-content"},[t._v(t._s(t.articleBanner.content))])]),t.isInWechatApp?n("wechat-banner",{staticClass:"wechat-banner",attrs:{category:t.categoryName}}):t._e(),t.isMobile?n("books-recommend-footer",{staticClass:"book-box",attrs:{category:t.categoryId}}):t._e(),n("comment-list-box",{ref:"commentListBox",attrs:{id:"comment-box",list:t.state.commentList.list,loading:t.state.commentList.loading,manual:t.canExtendCommentList,canFetchMore:t.canFetchMore,entry:t.entry},on:{submitted:t.onSubmittedComment,"should-fetch-more":t.onShouldFetchMoreComment}})],1),t.isMobile?n("mobile-article-action",{staticClass:"action-bar",attrs:{entry:t.entry},on:{comment:t.scrollToComment}}):t._e(),t.state.recommendedEntryList.list.length?n("div",{staticClass:"main-area recommended-area shadow",attrs:{"st:block":"recommended"}},[n("div",{staticClass:"recommended-entry-list-title"},[t._v("相关推荐")]),n("entry-list",{staticClass:"recommended-entry-list",attrs:{list:t.state.recommendedEntryList.list,loading:t.state.recommendedEntryList.loading},on:{"should-fetch-more":t.onShouldFetchMoreRecommendedEntry}})],1):t._e(),n("sidebar",{ref:"sidebar",staticClass:"sidebar",attrs:{state:t.state,logined:!!t.user,onTop:t.isViewNavOnTop}}),n("article-suspended-panel",{staticClass:"article-suspended-panel",attrs:{entry:t.entry}}),n("image-viewer",{ref:"imageViewer"})],1)])},staticRenderFns:[]}},2033:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAArwAAAIuBAMAAACvOsY4AAAALVBMVEUAAADx8fHw8PDx8fH////x8fHw8PDw8PDx8fHy8vLz8/Pw8PDz8/P////w8PC3awrCAAAADnRSTlMAgPPWC+i/qqVyUiMWAbErTFAAAAT8SURBVHja7Nu9SURBFIbhETeSRURjBTFf1ALExA6MrMDIDjQ0tAFBTCzCRLYFI1N3BX8QTg2CXuTbOyoG3wgH36eEN5h7Z+ZM6Vyfbm8cnhe0MFyJd1vjArvBcnTWdwvcruLTQYHZbYjVAqvBSYgnlgevu5hxXDqL8Qv3BT9bixkT8jotRM8leY32omefvO61QU3I6zMcRc90TF6buagskddmPiqb5LW5icoreW0uovJCXpuzqDyT1+YoKo/ktdmJykOByygq0wLypsDiUGn+aUPTHzP8/baiwLMpJm/TIx3yCv+BJHmF/zidvMJ/GUReYb/KJK/wX8STV/jHSMgr/ENQ+MAIXwYMoH6J8ekcGP7/Fk9XMuDhFQAAAAAAAAAAAAAAwP8WaIi8iry5kFeRNxfyKvLmQl5F3lzIq8ibC3kVeXMhryJvLuRV5M2FvIq8uZBXkTcX8iry5vLGDh3TAAAAMAzy73rvLDQBCeh9elv0Pr0tep/eFr1Pb4vep7dF79PbovfpbdH79LbofXpb9D69LXqf3ha9T2+L3qe3Re/T26L36W3R+/S26H16W/Q+vS16n94WvU9vi96nt0Xv09ui9+lt0fv0tuh9elv0Pr0tep/eFr1Pb4vep7dF79PbovfpbdH79LbofXpb9D69LXqf3ha9T2+L3qe3Re/T26L36W3R+/S26H16W/Q+vS16n94WvWOHjmkAAAAYBvl3vXcWmoAEnt4WvU9vi96nt0Xv09ui9+lt0fv0tuh9elv0Pr0tep/eFr1Pb4vep7dF79PbovfpbdH79LbofXpb9D69LXqf3ha9T2+L3qe3Re/T26L36W3R+/S26H16W/Q+vS16n94WvU9vi96nt0Xv09ui9+lt0fv0tuh9elv0Pr0tep/eFr1Pb4vep7dF79PbovfpbdH79LbofXpb9D69LXqf3ha9T2+L3qe3Re/T26L36W3R+/S26H16W/Q+vS16n94WvU9vi96nt0Xv09ui9+lt0fv0tuh9elv0Pr0tep/eFr1Pb4vep7dF79PbovfpbdH79LbofXpb9D69LXqf3ha9T2+L3qe3Re/T26L36W3R+/S26H16W/Q+vS16n94WvU9vi96nt0Xv09ui9+lt0fv0tuh9elv0Pr0tep/eFr1Pb4vep7dF79PbovfpbdH79LbofXpb9I4dOqhhIAiCIDb8wS6GfJtAdCrJhuClt0Xv0tuid+lt0bv0tuhdelv0Lr0tepfeFr1Lb4vepbdF79LbonfpbdG79LboXXpb9C69LXqX3ha9S2+L3qW3Re/S26J36W3Ru/S26F16W/QuvS16l94WvUtvi96lt0Xv0tuid+lt0bv0tuhdelv0Lr0tepfeFr1Lb4vepbdF79LbonfpbdG79LboXXpb9C69LXqX3ha9S2+L3qW3Re/S26J36W3R+1cHAAAAAAAAAAAAAAAAAACfewHX9QKu6wVc1wu4rhdwXS/gul7Adb2A63oB1/UCrusFXNcLuK4XcF0v4LpewHW9gOt6Adf1Aq7rBVzXC7iuF3BdL+C6XsB1vYDregHX9QKu6wVc1wu4rhdwXS/gul7Adb2A63oB1/UCDgAAAPi1Q8c0AMMAEMT4syyCYsj6S/acZEMwAAAAAJD2c/fpHXpb9C69LXqX3ha9S2+L3qW3Re/S26J36W3Ru/S26F16W/QuvS1613u9B9e82Sj5VxNcAAAAAElFTkSuQmCC"},961:function(t,e,i){function n(t){i(2017)}var s=i(8)(i(2018),i(2032),n,"data-v-13f76525",null);t.exports=s.exports},970:function(t,e,i){function n(t){i(974)}var s=i(8)(i(975),i(976),n,"data-v-009ea7bb",null);t.exports=s.exports},971:function(t,e,i){function n(t){i(978)}var s=i(8)(i(979),i(982),n,"data-v-311d2efa",null);t.exports=s.exports},972:function(t,e,i){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#000000",i=new o.a({content:t,color:e,padding:0,width:410,height:410,background:"#ffffff",ecl:"L"}).svg();return"data:image/svg+xml;utf8,"+encodeURIComponent(i)}e.a=n;var s=i(224),o=i.n(s)},973:function(t,e,i){"use strict";function n(t,e){var i=isNaN(e)?1:e/10,n=s(t,i);return 0===n?0:n.toFixed(2)}function s(t,e){var i=0,n=t.toString(),s=e.toString();try{i+=n.split(".")[1].length}catch(t){}try{i+=s.split(".")[1].length}catch(t){}n=Number(n.replace(".","")),s=Number(s.replace(".",""));var o=n*s/Math.pow(10,i),a=e>0?.01:0;return Math.max(a,o)}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{free:0,charge:10},e=t.free,i=t.charge,n=e>0,s=i<10;return n?0:s?i:10}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[t.timeLimitDiscount,t.timeLimitDiscountFirstDay].some(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.startUTC,i=void 0===e?null:e,n=t.endUTC,s=void 0===n?null:n,o=(t.discountCount,+new Date),a=+new Date(i),r=+new Date(s);return o>a&&o<r})}function r(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,i=[{title:"早鸟价",type:"timeLimitDiscountFirstDay"},{title:"限时优惠价",type:"timeLimitDiscount"}],n=t.timeLimitDiscount,s=void 0===n?{}:n,o=t.timeLimitDiscountFirstDay,a=void 0===o?{}:o,r=[a,s].map(function(t,n){var s=t.startUTC,o=void 0===s?null:s,a=t.endUTC,r=void 0===a?null:a,c=t.discountCount,l=void 0===c?10:c,d=+new Date(o),m=+new Date(r),h=l;return u()({id:e},i[n],{startTime:d,endTime:m,sale:h})}),c={},l=0;l<2;l++){var d=+new Date,m=r[l],h=m.startTime,f=void 0===h?null:h,p=m.endTime,v=void 0===p?null:p,g=m.sale,C=void 0===g?10:g,M=C>=0&&C<10,y=d>f&&d<v;if(M&&y){c=r[l];break}}return c}function c(t,e){for(var i=[{className:"current",text:t,No:t}],n=1;n<=3;n++)t-n>1&&i.unshift({className:"",text:t-n,No:t-n}),t+n<e&&i.push({className:"",text:t+n,No:t+n});return t-4>1&&i.unshift({className:"omit",text:"...",No:null}),t>1&&i.unshift({className:"prev",text:"上一页",No:t-1},{className:"",text:"1",No:1}),t+4<e&&i.push({className:"omit",text:"...",No:null}),t<e&&i.push({className:"",text:e,No:e},{className:"next",text:"下一页",No:t+1}),i.length>1?i:[]}i.d(e,"c",function(){return d}),e.a=n,e.g=s,e.d=o,e.f=a,e.e=r,e.b=c;var l=i(3),u=i.n(l),d="5b30c3b351882574957a788f"},974:function(t,e){},975:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(96),s=i(158),o=i(39),a=i.n(o);e.default={components:{Lazy:a.a},props:["url","default","quality","width","height","shrink","format","size","alt","blank"],computed:{defaultThumbUrl:function(){return this.default||n.e},thumbUrl:function(){var t=this.url||(this.blank?"":this.defaultThumbUrl);return this.shrink?Object(s.b)(t,this.width,this.height,{format:this.format,quality:this.quality}):Object(s.a)(t,this.width,this.height,{format:this.format,quality:this.quality})},thumbStyle:function(){return{backgroundSize:this.size||"cover"}}}}},976:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("lazy",{staticClass:"thumb",style:t.thumbStyle,attrs:{div:!0,url:t.thumbUrl}})},staticRenderFns:[]}},977:function(t,e,i){function n(t){i(980)}var s=i(8)(null,i(981),n,"data-v-494d384d",null);t.exports=s.exports},978:function(t,e){},979:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(10),s=i(223),o=i(222),a=i.n(o),r=i(977),c=i.n(r);e.default={components:{Avatar:a.a,Triangle:c.a},props:["userId"],data:function(){return{user:null,followLock:Object(s.a)(),visible:!1,top:0,left:0,isTop:!1}},computed:{popoverStyle:function(){return{top:this.top+"px",left:this.left+"px"}},position:function(){return this.user&&(this.$userPosition(this.user)||this.user.self_description||"暂无简介")},self:function(){return this.user&&this.user.self},followed:function(){return this.user&&this.user.followed}},methods:{fetch:function(){var t=this;return this.$getBean("userBusiness").getUserById(this.userId).then(function(e){t.user=e})},toggleFollow:function(){var t=this;this.followLock.do(function(){return t.$ensureAuthorized().then(function(){return t.$store.dispatch(n.TOGGLE_FOLLOW_USER,t.user).catch(function(e){t.$error(e)})}).catch(function(){})})},showPopover:function(t){var e=this;clearTimeout(this.hideToken),this.showToken=setTimeout(function(){e.fetch().then(function(){e.showToken&&(e.visible=!0,e.$nextTick(function(){var i=t.target.getBoundingClientRect(),n=t.target.offsetWidth||33,s=t.target.offsetHeight||33,o=e.$refs.popover,a=o.offsetWidth,r=o.offsetHeight,c=i.left-a/2+n/2,l=i.top-r-12;e.isTop=!1,l<60&&(e.isTop=!0,l=i.top+s+8),c=Math.max(0,c),e.left=c,e.top=l}))})},300)},hidePopover:function(){var t=this;clearTimeout(this.showToken),this.showToken=null,this.hideToken=setTimeout(function(){t.popoverTimeout=null,t.visible=!1},300)}}}},980:function(t,e){},981:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"container"},[i("em",{staticClass:"triangle"})])}]}},982:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user-popover-box",attrs:{"st:block":"userPopover","st:state":t.userId},on:{mouseenter:function(e){t.showPopover(e)},mouseleave:t.hidePopover}},[t.visible?i("div",{ref:"popover",staticClass:"user-popover",style:t.popoverStyle},[i("div",{staticClass:"info-row"},[i("app-link",{attrs:{to:t.$userRoute(t.user),blank:!0}},[i("avatar",{staticClass:"avatar",attrs:{user:t.user,decorative:!0}})],1),i("div",{staticClass:"user-info"},[i("app-link",{staticClass:"username",attrs:{to:t.$userRoute(t.user),blank:!0}},[t._v(t._s(t.user.username))]),i("div",{staticClass:"position"},[t._v(t._s(t.position))])],1)],1),i("div",{staticClass:"meta-row"},[i("ul",{staticClass:"meta-list"},[i("li",{staticClass:"item"},[i("div",{staticClass:"count"},[t._v(t._s(t.user.followeesCount||0))]),i("div",{staticClass:"title"},[t._v("关注")])]),i("li",{staticClass:"item"},[i("div",{staticClass:"count"},[t._v(t._s(t.user.followerCount||0))]),i("div",{staticClass:"title"},[t._v("关注者")])])]),t.self?t._e():i("button",{staticClass:"follow-btn",class:{followed:t.followed},attrs:{"st:name":"followBtn"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.toggleFollow(e)}}},[t._v(t._s(t.followed?"已关注":"关注"))])]),i("triangle",{staticClass:"triangle-bottom",class:{isTop:t.isTop}})],1):t._e(),t._t("default")],2)},staticRenderFns:[]}},983:function(t,e,i){function n(t){i(1041)}var s=i(8)(i(1042),i(1043),n,"data-v-70a2cd6d",null);t.exports=s.exports},984:function(t,e,i){function n(t){i(986)}var s=i(8)(i(987),i(989),n,"data-v-e4647de6",null);t.exports=s.exports},985:function(t,e,i){function n(t){i(1083)}var s=i(8)(i(1084),i(1085),n,"data-v-65d5b7df",null);t.exports=s.exports},986:function(t,e){},987:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(31),s=i(10),o=(i(988),i(223)),a=i(75),r=i(970),c=i.n(r);e.default={components:{Thumb:c.a},props:["entry","position"],data:function(){return{list:[],page:1,loading:!1,filled:!1,creating:!1,isNewFormVisible:!1,newCollectionTitle:"",collectLock:Object(o.a)()}},computed:{empty:function(){return!this.list.length&&!this.loading},canCreate:function(){return!!this.newCollectionTitle}},methods:{close:function(){this.$emit("close")},showNewForm:function(){var t=this;this.isNewFormVisible=!0,this.$nextTick(function(){t.$refs.titleInput.focus()})},init:function(){this.fetchList(),this.initEventListener()},initEventListener:function(){var t=this;Object(n.h)(this.$refs.list,function(e){e<50&&t.fetchList()})},fetchList:function(){var t=this;this.loading||this.filled||(this.loading=!0,this.$getBean("collectionRepository").getCurrentUserCollectionListForAddingEntry(this.entry.id,this.page).then(function(e){t.list=Object(a.c)(t.list.concat(e),function(t){return t.id}),t.page++,t.loading=!1,t.filled=0===e.length}).catch(function(e){t.loading=!1,t.$error(e)}))},createCollection:function(){var t=this;if(!this.creating){this.creating=!0;var e=this.newCollectionTitle.trim();if(e)return this.$getBean("collectionBusiness").createCollection({title:e}).then(function(e){return t.toggleCollect(e).then(function(){t.list.unshift(e),t.$refs.list.scrollTop=0,t.isNewFormVisible=!1,t.newCollectionTitle="",t.creating=!1})}).catch(function(e){t.$error(e),t.creating=!1})}},toggleCollect:function(t){return this.$store.dispatch(s.TOGGLE_COLLECT_ENTRY,{entry:this.entry,collection:t})},onCollectionClick:function(t){var e=this;this.collectLock.do(function(){return e.toggleCollect(t).then(function(){return setTimeout(function(){e.close()},300)})})}},mounted:function(){this.init()}}},988:function(t,e,i){"use strict";var n=i(5);i.n(n)},989:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"collect-popup-box",on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[n("div",{staticClass:"mask",on:{click:t.close}}),n("div",{ref:"popup",staticClass:"collect-popup",class:[t.position]},[n("div",{staticClass:"title"},[t._v("添加到收藏集")]),n("ul",{ref:"list",staticClass:"collection-list"},[t._l(t.list,function(e){return n("li",{staticClass:"item",on:{click:function(i){t.onCollectionClick(e)}}},[n("div",{staticClass:"item-block"},[n("thumb",{staticClass:"thumb",attrs:{url:e.imageUrl,width:50,height:50}}),n("div",{staticClass:"title"},[t._v(t._s(e.title))]),n("div",{staticClass:"entry-count"},[t._v(t._s(e.entryCount))])],1),n("div",{staticClass:"item-block"},[n("button",{staticClass:"collect-icon",class:{collected:e.isIn},style:{display:e.isIn?"block":""}})])])}),t.empty?n("div",{staticClass:"empty"},[n("img",{staticClass:"empty-icon",attrs:{src:i(990)}}),n("div",{staticClass:"empty-title"},[t._v("点击下方文字新建收藏集")])]):t._e()],2),n("div",{staticClass:"action-box"},[t.isNewFormVisible?n("form",{staticClass:"new-form",on:{submit:function(e){e.preventDefault(),t.createCollection(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCollectionTitle,expression:"newCollectionTitle"}],ref:"titleInput",staticClass:"title-input",attrs:{disabled:t.creating,maxlength:"20"},domProps:{value:t.newCollectionTitle},on:{input:function(e){e.target.composing||(t.newCollectionTitle=e.target.value)}}}),n("button",{staticClass:"submit-btn",attrs:{disabled:!t.canCreate||t.creating},on:{click:function(e){e.preventDefault(),t.createCollection(e)}}},[t._v("添加")])]):n("button",{staticClass:"new-btn",on:{click:t.showNewForm}},[t._v("新建收藏集")])])])])},staticRenderFns:[]}},990:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzRweCIgaGVpZ2h0PSI0NnB4IiB2aWV3Qm94PSIwIDAgNzQgNDYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogc2tldGNodG9vbCA0MC4zICgzMzgzOSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+OEIzMDNERjgtNjU1OS00RjZCLTg1NzctNThEMzJGQTRCMzQ4PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBza2V0Y2h0b29sLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLkuKrkurrkuLvpobVf5pS26JeP6ZuGX+epuiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTY4My4wMDAwMDAsIC02NTkuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cC01IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2ODMuMDAwMDAwLCA2NTkuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMzA2NDUxNiwxNS43MzY4NDIxIEwyLjg3NjYwNDY0LDE1LjczNjg0MjEgQzEuNDA0MjY1NTMsMTUuNzM2ODQyMSAwLjU5ODcwMTE2MywxNi44NTc5MzgxIDEuMDgxMDQwMDcsMTguMjUxNjEwNiBMMTAuMjY1NTgxNiw0NC43ODk0NzM3IEwxMy4zMDY0NTE2LDE1LjczNjg0MjEgWiIgaWQ9IlBhdGgtMiIgZmlsbD0iI0VGRjBGMCI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTEyLjE0Mjg2Niw5LjkyMzQ5NjA2IEMxMi4zMTE0NjExLDcuNzIwOTc3NzUgMTQuMjQ1NTc2Niw1LjkzNTQ4Mzg3IDE2LjQ0MjM4NCw1LjkzNTQ4Mzg3IEw0Ny43MTYzMzU0LDUuOTM1NDgzODcgTDUxLjUwNDcwMTQsMS4wNDc0ODI0IEM1MS45NTMwNjUsMC40Njg5NzM4NDYgNTIuOTEyNDA5NiwwIDUzLjY1MDY5OTgsMCBMNzAuMTc0ODM2NywwIEM3Mi4zODE1NjU2LDAgNzMuOTkyOTU4MywxLjc3NTA2ODU4IDczLjc3MjI4MzksMy45ODE3MTY4NiBMNjkuOTY4NDYxOCw0Mi4wMTgyODMxIEM2OS43NDg1NDgxLDQ0LjIxNzMyNDYgNjcuNzg1MjY3MSw0NiA2NS41NzQ0OTU2LDQ2IEwxMy4zNzcxMTE2LDQ2IEMxMS4xNzAzMDQ4LDQ2IDkuNTE3MDY4MDgsNDQuMjI2NzgyMyA5LjY4NjYwMjk0LDQyLjAxMTk4NzggTDEyLjE0Mjg2Niw5LjkyMzQ5NjA2IFoiIGlkPSJSZWN0YW5nbGUiIGZpbGw9IiNDQ0NGRDAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},991:function(t,e){function i(t){if(navigator.clipboard)return navigator.clipboard.writeText(t);var e=document.createElement("span");e.textContent=t,e.style.whiteSpace="pre";var i=document.createElement("iframe");i.sandbox="allow-same-origin",document.body.appendChild(i);var n=i.contentWindow;n.document.body.appendChild(e);var s=n.getSelection();s||(n=window,s=n.getSelection(),document.body.appendChild(e));var o=n.document.createRange();s.removeAllRanges(),o.selectNode(e),s.addRange(o);var a=!1;try{a=n.document.execCommand("copy")}catch(t){}return s.removeAllRanges(),n.document.body.removeChild(e),document.body.removeChild(i),a?Promise.resolve():Promise.reject()}t.exports=i},992:function(t,e,i){var n,s,o;/*!
	Autosize 3.0.20
	license: MIT
	http://www.jacklmoore.com/autosize
*/
!function(i,a){s=[e,t],n=a,void 0!==(o="function"==typeof n?n.apply(e,s):n)&&(t.exports=o)}(0,function(t,e){"use strict";function i(t){function e(e){var i=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=i,t.style.overflowY=e}function i(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}function n(){var e=t.style.height,n=i(t),s=document.documentElement&&document.documentElement.scrollTop;t.style.height="auto";var o=t.scrollHeight+r;if(0===t.scrollHeight)return void(t.style.height=e);t.style.height=o+"px",c=t.clientWidth,n.forEach(function(t){t.node.scrollTop=t.scrollTop}),s&&(document.documentElement.scrollTop=s)}function s(){n();var i=Math.round(parseFloat(t.style.height)),s=window.getComputedStyle(t,null),o=Math.round(parseFloat(s.height));if(o!==i?"visible"!==s.overflowY&&(e("visible"),n(),o=Math.round(parseFloat(window.getComputedStyle(t,null).height))):"hidden"!==s.overflowY&&(e("hidden"),n(),o=Math.round(parseFloat(window.getComputedStyle(t,null).height))),l!==o){l=o;var r=a("autosize:resized");try{t.dispatchEvent(r)}catch(t){}}}if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!o.has(t)){var r=null,c=t.clientWidth,l=null,u=function(){t.clientWidth!==c&&s()},d=function(e){window.removeEventListener("resize",u,!1),t.removeEventListener("input",s,!1),t.removeEventListener("keyup",s,!1),t.removeEventListener("autosize:destroy",d,!1),t.removeEventListener("autosize:update",s,!1),Object.keys(e).forEach(function(i){t.style[i]=e[i]}),o.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",d,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",s,!1),window.addEventListener("resize",u,!1),t.addEventListener("input",s,!1),t.addEventListener("autosize:update",s,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",o.set(t,{destroy:d,update:s}),function(){var e=window.getComputedStyle(t,null);"vertical"===e.resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),r="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(r)&&(r=0),s()}()}}function n(t){var e=o.get(t);e&&e.destroy()}function s(t){var e=o.get(t);e&&e.update()}var o="function"==typeof Map?new Map:function(){var t=[],e=[];return{has:function(e){return t.indexOf(e)>-1},get:function(i){return e[t.indexOf(i)]},set:function(i,n){-1===t.indexOf(i)&&(t.push(i),e.push(n))},delete:function(i){var n=t.indexOf(i);n>-1&&(t.splice(n,1),e.splice(n,1))}}}(),a=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){a=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}var r=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(r=function(t){return t},r.destroy=function(t){return t},r.update=function(t){return t}):(r=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return i(t)}),t},r.destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],n),t},r.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],s),t}),e.exports=r})},993:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgxNnYxNkgweiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM2Q0JENDUiIGQ9Ik00LjIzNCA2LjY5M3Y3LjI0M0gyLjg4MWMtLjQ4NiAwLS44ODEtLjQ5Mi0uODgxLTEuMDk1VjcuODc1YzAtLjYzLjQxMi0xLjE4Mi44OC0xLjE4MmgxLjM1NHptMy42ODgtMy43QzguMDEgMi40MDQgOC40OSAxLjk5IDkuMDE4IDJjLjc1NC4wMTUgMS4yMDQuNjYzIDEuMzYuOTgzLjI4NC41ODUuMjkyIDEuNTQ5LjA5NyAyLjE2Ny0uMTc3LjU2LS41ODYgMS4yOTYtLjU4NiAxLjI5NmgzLjA2NmMuMzI0IDAgLjYyNS4xNjQuODI2LjQ0OS4yMDQuMjkuMjcuNjY4LjE3OCAxLjAxMWwtMS4zODcgNS4xODNjLS4xMjYuNDk5LS41NDQuODQ3LTEuMDE2Ljg0N0g1LjUzVjYuNjkzYzEuMzg1LS4zMDkgMi4yMzYtMi42MzIgMi4zOTItMy43eiIvPgogICAgPC9nPgo8L3N2Zz4K"},994:function(t,e,i){"use strict";function n(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}e.a=n},995:function(t,e,i){function n(t){i(996)}var s=i(8)(i(997),i(1037),n,"data-v-f0edcf22",null);t.exports=s.exports},996:function(t,e){},997:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),s=i.n(n),o=i(31),a=i(998),r=i.n(a),c=i(1018),l=i.n(c),u=i(1025),d=i.n(u),m=i(1029),h=i.n(m),f=i(1032),p=i.n(f);i(994);e.default={components:{Entry:r.a,BookForTimeline:l.a,PinForTimeline:d.a,EntrySkeleton:h.a,BannerEntry:p.a},props:["list","loading","emptyText","noEmptyIndication","direct"],data:function(){return{bookHot:null,bookAdded:!1,recommendPin:null,isVisibleBannerEntry:!1}},computed:{prevList:function(){return this.list.slice(0,3)},middleList:function(){return this.list.slice(3,6)},nextList:function(){return this.list.slice(6)}},methods:{getBookHot:function(){var t=this;return this.$getBean("xiaoceBusiness").getXiaoceHot().then(function(e){t.bookHot=s()(e,{type:"book"})}).catch(function(e){t.bookHot=null})},fetchMoreIfConditionIsSatisfied:function(){Object(o.b)(this.$refs.list)>-200&&this.$emit("should-fetch-more")},onEntryDeleted:function(t){this.$emit("deleted",t)},getRecommendPin:function(){var t=this;this.$getBean("pinService").getTimelineRecommendPin().then(function(e){var i=e.list[0];t.recommendPin=i}).catch(function(e){t.recommendPin=null})}},mounted:function(){var t=this;"timelineIndex"===this.$route.name&&(this.getBookHot(),this.getRecommendPin());var e=this.$getBean("eventBus");e.onVmLife(this,e.eventType.ROOT_CONTAINER_SCROLL,function(){t.fetchMoreIfConditionIsSatisfied()}),Object(o.f)(this.$refs.list,function(){t.fetchMoreIfConditionIsSatisfied()})}}},998:function(t,e,i){function n(t){i(999)}var s=i(8)(i(1e3),i(1017),n,"data-v-9f3d7718",null);t.exports=s.exports},999:function(t,e){}});